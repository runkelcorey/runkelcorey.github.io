[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "I am a Data Scientist at Valtech (formerly Kin + Carta, formerly Cascade Data Labs), an experience innovation consultancy. There, I use daily sales forecasts of breakfast food to help retailers meet their demand. I automate data-quality testing and code linting. And I lead small teams that build dashboards to visualize spatial data and explain statistical models.\nOff the clock, I climb, cycle, watch movies made in bygone times, and read histories of ideas and institutions.\nFrom 2020 to 2022, I was a Research Associate at the Yale Program on Financial Stability in New Haven, CT. There, I wrote histories of financial crises, framed by the policies created to fight them.\nBefore Yale, I graduated from the University of Virginia, where I double majored in Political & Social Thought and Economics. I wrote a thesis estimating the impact of home price depreciation on voting outcomes, and worked with the UVA School of Architecture to improve transit outcomes in central Virginia.\nI am based in Cambridge, MA."
  },
  {
    "objectID": "projects.html",
    "href": "projects.html",
    "title": "Projects",
    "section": "",
    "text": "Political Implications of Residential Mortgages in Crisis\n\n\n\n\n\n\nCorey Runkel\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/2024-05-27-movie-trends-someone-should-write-about/index.html",
    "href": "posts/2024-05-27-movie-trends-someone-should-write-about/index.html",
    "title": "2 movie trends someone should write about",
    "section": "",
    "text": "Watching movies made since the 1930s and reading tons about 20th century American history have let me notice some trends that I don‚Äôt fully understand. I‚Äôd like to write about all of these, but I can‚Äôt seem to find a way in:"
  },
  {
    "objectID": "posts/2024-05-27-movie-trends-someone-should-write-about/index.html#mid-century-transatlanticism",
    "href": "posts/2024-05-27-movie-trends-someone-should-write-about/index.html#mid-century-transatlanticism",
    "title": "2 movie trends someone should write about",
    "section": "1. Mid-century transatlanticism",
    "text": "1. Mid-century transatlanticism\n\n\n\nCary Grant in North by Northwest\n\n\nAfter World War II, the US and UK enjoyed a brief but intense period of economic growth and political consensus; old folks call this ‚Äúthe good ol‚Äô days‚Äù (even if it did exclude women and most everyone who wasn‚Äôt white and christian). In movies, I see this represented as characters with both confidence and wealth, as well as treatments of technology as magic that represent progress. Cary Grant in North by Northwest (1959) exemplifies this idea with his Transatlantic accent. The James Bond movies() also show this, with its gadgets and its cooperation between MI6 and the CIA. It‚Äôs skewered, in turn, by Jaques Tati‚Äôs Playtime (1960); this is a French movie but it features American tourism and technological optimism at every turn."
  },
  {
    "objectID": "posts/2024-05-27-movie-trends-someone-should-write-about/index.html#anti-corporate-1990s",
    "href": "posts/2024-05-27-movie-trends-someone-should-write-about/index.html#anti-corporate-1990s",
    "title": "2 movie trends someone should write about",
    "section": "2. Anti-corporate 1990s",
    "text": "2. Anti-corporate 1990s\n\n\n\nOffice Space (left) and The Matrix (right)\n\n\nIn the late 1990s, a raft of movies took aim at the US‚Äô intense work culture and, specifically, the drudgery of large businesses. What‚Äôs fun about this trend is its stylistic diversity: The Matrix (1999) is in this category, and so is Office Space (1999).\n\n\nApparently, someone‚Äôs already pointed this connection out!\nBoth of these trends have an economic and corporate component to them and I‚Äôd like to explore what they say about the 20th century."
  },
  {
    "objectID": "posts/2022-04-09-tip-the-valet/index.html",
    "href": "posts/2022-04-09-tip-the-valet/index.html",
    "title": "Tip the valet!",
    "section": "",
    "text": "Valet, the Bank of Canada‚Äôs API, did not have an R client when the YPFS was studying its COVID work, and I pretty much stick to R. So, to demonstrate that I could build a solution quickly, without reinventing the wheel, I wrote valet, which was just accepted by CRAN! If you have a tip for me, or a bug that needs fixing, let me know.\nSeveral months ago, I got it in my head to write API clients for R users. The goal was to fill gaps for my colleagues and other researchers, but as I remember it now, it was also directed at the job market and personal growth. Contributing to open-source projects is a great way to publicize skills and contribute in ways that are actually needed. Contrast this with the umpteenth chess solver written for class.\nAdditionally, the choice of project can reflect an entry programmer‚Äôs motivations and experience. One jump that‚Äôs important to make from academia is understanding that not everything needs to be created from the ground up. In college, creating a new club was a checkbox for those climbing the prestige ladder. In true UVA fashion, this urge was even present in student organizing‚Äîthere‚Äôs a pipeline from organizing to Deloitte that‚Äôs as thick as organizing to professional organizing/unions/law school‚Äîand I often saw students choose the easy path of starting a new club instead of the hard work improving what already existed. Working with structures, forums, and people that are already available is a far more powerful option, though it can take difficult politicking to do so.\nIn open-source, licenses limit how proprietary people can be about their creations. And no one awards points for already-built pieces of software (unless they cross languages). So, to build open-source incentivizes answering new problems and using already-made tools. To build an API client in R today, you don‚Äôt need a great knowledge of HTTP responses; you just need httr. You don‚Äôt even need to know how to unnest JSONs, you just need as.data.frame(). What you do need, is a sense of what problems still need solutions, and how to find those solutions quickly (that‚Äôs where the other tools step in).\nMy project covers all of the API‚Äôs endpoints, so importing datasets to R is a reproducible breeze. This project also taught me about the infrastructure of package development:\n\ndocumentation\ntesting\nsubmission\n\nAs you‚Äôd expect, Hadley‚Äôs book covers it all in great detail, so I won‚Äôt describe my process. I‚Äôll just say that I am blown away at the comprehensiveness of the R ecosystem for package development and maintenance:\n\nRoxygen for documenting packages inline with the actual functions\ntestthat for writing easy-to-understand tests\ndevtools for checking against R‚Äôs technical requirements, building documentation, and submitting\npkgdown for making documentation websites with no added effort (okay, a little bit of understanding GitHub Actions/Pages)\nusethis for a million myriad add-ons and timesavers\n\nIn my mind, it‚Äôs these components that allow people with no formal training to release helpful, useful packages. The only limit to the number of good packages should be the number of good ideas.\nNext up for me is to really understand Docker: when to use‚Ä¶how to use‚Ä¶and why does it take 2GB on my computer?"
  },
  {
    "objectID": "posts/2021-03-24-ypfs-citation-style-language/index.html",
    "href": "posts/2021-03-24-ypfs-citation-style-language/index.html",
    "title": "YPFS Citation Style Language",
    "section": "",
    "text": "When I started at YPFS, we did all COVID all the time. I‚Äôd wake up, get paid to doomscroll, and pump out some blogs about what was happening. When we reverted to case-writing, a huge backlog of cases had to be prepped for publication. Many of these were years-old. They neither shared common formatting nor common citations, and‚Äîbecause the cases were so old‚Äîthe original authors had moved on to bigger and better things. We needed to solve all the problems that come with a team distributed not only across space but also time.\nFor literal centuries, publications have solved this problem with style guides and time-consuming editing practices. However, these are only as strong as their enforcement. Without savvy, patient editors and authors with hours to spare, editing for standardization rightfully takes a back seat to editing for clarity and content. A somewhat newer solution involves distributing Word templates that authors simply fill in, Mad-Libs style. But again, you run into the problem of enforcement. The first time a line breaks where you don‚Äôt want it to, or you copy the source style along with the text, the Word template ceases to be authoritative.\nMoreover, for editors reviewing work years later, if citations aren‚Äôt perfect or comprehensive, finding the original document can be a bear. These systems do not link the product to the process. They allow authors to keep ‚Äútwo sets of books‚Äù: one, incomplete but well-formatted, that gets published; another, complete but unstructured, located somewhere without a link tracing to it. In this way, Word documents‚Äîfor all the ways they liberate formatting and track changes‚Äîare little different from plain paper. We have had ways to connect product and process for years, but it is hard to generate buy-in. Some compromise between accessibility (plain-text editors aren‚Äôt familiar to most) and utility (e.g.¬†Markdown would be ideal) is usually required.\nOur compromise is the amazing reference manager Zotero. It builds citations using Citation Style Language (CSL). CSL imposes it style in Word documents using fields (kinda like those used often for page numbers or automatically updating dates) that it controls. In this way it is authoritative. Zotero feeds it information stored in its desktop app. What you put in is put out on the page. In this way it connects product to process: to create a correct and nice-looking bibliography requires citing throughout a document and inputting data correctly to Zotero, which is super easy to search and connects documents to their contexts on the web.\nCSL, is also open source, which means that we could configure a style to our liking. While we mostly like Chicago (author-date) style, I and another Research Associate updated it with some contextual information. I learnt this XML-like language and have been deploying it with Git. It‚Äôs my first experience developing software that people actually use. This makes a huge difference! Working with something that will be used in the future by end-users made me think several steps ahead to maintain forward- and backward-compatibility, and reminded me how much I enjoy solving problems.\nCheck out the code here."
  },
  {
    "objectID": "posts/2022-11-18-remote-work-config/index.html",
    "href": "posts/2022-11-18-remote-work-config/index.html",
    "title": "How I work remotely",
    "section": "",
    "text": "When I landed my job at Kin + Carta, I invested in some creature comforts for remote work. At Yale, I kept hoping the office was a few elusive weeks away, and that it wasn‚Äôt worth investing in gear that I would soon not need. That was silly at the time, but ridiculuous once I took a remote job. I began searching for a configuration that would: - save my neck the strain of looking down at a 13-inch laptop - save my back the pain of sitting in a $40 Ikea chair 8 hours a day - travel well - bring some aesthetic joy to my day - work for play as well as work\nI researched the r/onebag sub-reddit, a community of folks who engineer packing solutions for work trips, vacation, and everyday that fits in a single bag. I also looked to r/DigitalNomads, a group of folks with no fixed address, who work and travel simultaneously (or at least want to). From these forums, I settled on: - a laptop - collapsible laptop stand - second, thin monitor - monitor stand - mouse - keyboard\nThis set-up, hacked together by u/username, would allow me the same comfort traveling as it would living in one place. I would also be able to stash it to firmly separate work from home.\nBut, as my start date drew nearer, and my move to Cambridge more final, I realized that I wouldn‚Äôt be traveling as much as I originally hoped. Much of this digital nomad stuff was pure fantasy for me, triggered by a realization that another move meant losing the ties to place that had taken more than a year to fasten in New Haven. Once I abandoned that constraint, I recognized some advantages to a fixed configuration, and looked for a big monitor as well as a standing desk."
  },
  {
    "objectID": "posts/2022-11-18-remote-work-config/index.html#monitors",
    "href": "posts/2022-11-18-remote-work-config/index.html#monitors",
    "title": "How I work remotely",
    "section": "Monitor(s)",
    "text": "Monitor(s)\nWith a fixed configuration, larger screens made more sense, and weight was no longer a concern. This also brought the price down significantly: for $100, I purchased two 1.5-inch thick, 24-inch diagonal monitors, HDMI cables, and a monitor stand. (Imagine doing that 10 years ago). This gave me a ton of screen real estate, but required extra dongles to work with my 6-year-old laptop. Frustratingly, those dongles took weeks to ship and were difficult to find for less than $90.\nUltimately, this set up was unwieldy. The dongles made choices between charging and peripherals difficult; the monitors were 5kg each, and I worried that they would crash onto my desk each night; ironically, this setup was also annoying for my neck since I had to crane to see the edges of the monitors.\nI sold those monitors for a small profit on Facebook Marketplace and swapped them for a 32-inch 4k screen. This is what I use today, and it‚Äôs beautiful. The only annoying part is sharing my screen on calls; with so many pixels, other screens downsample the image to fit it in their windows. But it renders an amazing picture and connects to my work Macbooks and 6-year-old XPS.\nOne tip here is to search Facebook Marketplace for 4k monitors and keep an eye out for gamers who are ditching their set-ups for lower-latency displays. My 60hz display is more than plenty for the work I do, and it seems like many gamers purchase these displays thinking it will work for them before realizing they need a higher refresh rate. As a result, they undervalue them / not many office workers seem to think about 4k vs 2k vs 1080p, driving down the price. I find that 4k at 32 inches (139 dpi) looks little different from my 13-inch Macbook (226 dpi)."
  },
  {
    "objectID": "posts/2022-11-18-remote-work-config/index.html#desk",
    "href": "posts/2022-11-18-remote-work-config/index.html#desk",
    "title": "How I work remotely",
    "section": "Desk",
    "text": "Desk\nAfter 2 years of working at a too-high wood desk, I needed a change. My back was strained from sitting in one position for so many hours, my wrists hurt since my keyboard was too high up, and working at a fixed setup from home didn‚Äôt promise much better. I had started to look for standing desks in late 2021 but always found something wrong with the options. New desks that wouldn‚Äôt wobble if I handwrote notes and received good durability ratings were upwards of $400, and used desks were always ugly (black desktop or white with black/wood veneer legs). Moreover, there were a thousand ways to raise and lower these desks, and buying the wrong motor meant a desk that took 5 minutes to move or broke after 2 years.\nI wanted a desk that was less than $250, sturdy at any position, raised and lowered quickly, and was nice to look at. None of the big brands‚ÄîFully, Varidesk, ‚Äîfit this niche. I settled on the Humanscale Float after seeing it listed on Facebook for $300, a quarter of its retail price. This was a gamble because I only found 3 informative reivews online. It turns out that obscurity was a good thing, however, and the 3 reviews I found were correct: the Float is an excellent piece of hardware that feels made to last, and an excellent sit/stand desk.\nHumanscale, a competitor to Herman Miller for office furniture, embodies a Johnny Ive/Apple minimalism and sells all its products in a mix of white and brushed aluminum. This contrasted with all the faux wood other firms offered and worked well with my grey walls, Macbook, and white monitor. For motion, the Float employs an elegant pneumatic system for raising and lowering. This means no motor to break, and it moves as quickly as you can push or pull it. The tension, which controls how easy it is to load and depends on the amount of weight sitting on the desk, was difficult to set initially but really just took some time to break in.\nThe desk came with a wire holder (essential, honestly), and a cutout for cords to snake through, but no other features. Why was it so cheap? It turns out that office liquidators got busy during the pandemic and a lot of corporate office parks sold off high-quality furniture like the Float; if you see it near you, definitely consider it.\nHumanscale also makes adjustable monitor arms powered by the same pneumatic system as the Float. I found two Humanscale M2s for $40, also about a quarter of retail, from a fellow remote worker on Facebook Marketplace. These connect with VESA mounts and I was able to attach my 32-inch monitor easily. The M2‚Äôs max holding capacity is 10kgs, so adding one 5kg monitor was trivial. One of the new pieces I purchased was a $75 Humanscale laptop holder that attached by VESA connection to the arm. I toyed with other mounts, but all looked too flimsy and I worried my laptops would crash to the floor if I used those. (Also, the aesthetic.) These arms also include hidden compartments so wires can snake through, some really ingenious design that cleaned up my configuration significantly."
  },
  {
    "objectID": "posts/2022-11-18-remote-work-config/index.html#keyboard",
    "href": "posts/2022-11-18-remote-work-config/index.html#keyboard",
    "title": "How I work remotely",
    "section": "Keyboard",
    "text": "Keyboard\nOf all the research I did for my configuration, finding the perfect keyboard was the most fun. Reddit has sub-reddits (and sub-sub-reddits) dedicated to mechanical keyboard, wireless mechanical keyboards, ergonomic keyboards, DIY board, and everything in between. I dipped my toes into this pool with the Royal Kludge G68, a beginner board outfitted with full features. For those uninitiated, I‚Äôll explain the parameters of purchasing a keyboard:\nIt had switches‚Äîthe bits of metal below the keycap that register movement as a character pressed‚Äîthat felt and sounded substantial; when I typed, everyone knew. The RK G68 also offered Bluetooth and wireless connection via dongle; the Bluetooth on my XPS conked out long ago, and it was imperative that I could work wirelessly with my work and personal machines. Like many mechanical keyboards, its RGB backlit display offered a ton of fun, especially when the New England winters turned dark. All this was available for $60, about a quarter of upper mid range boards.\nUnfortunatley, the G68 was quite thick and a little garish. I traveled with it twice, and was worried both times that its keys would rip right off when my bag shifted. This isn‚Äôt a durability issue‚Äîone of the perks of mechanical keyboards is that you can swap out parts when things break or you want to look under the hood‚Äîbut it always stayed in my head. Its white and red exterior was fine but did not fit my Humanscale aesthetic.\nShortly after I purchased the G68, several new keyboards carrying low-profile switches hit the market. These offered thinner keyboards meant for travel, or even to sit atop laptops to replace the butterflies. I pre-ordered the NuPhy Air60 and waited 3 weeks for it to arrive from Shanghai. NuPhy represents a newer Chinese manufacturing posture that has learned state-of-the-art techniques from its contracts abroad but is proud to market itself as a product of Shenzhen.\nThis board is a work of art, clad in brushed aluminum and about half as thick as the G68. It offered the same features as the G68 but featured a more substantial sound, more thock than clack. Plus, the low-profile board meant that it was harder to mis-type a key while moving your fingers across the board, a common habit of new mechanical keyboard immigrants. All in all, it offers the feel of a really substantial slim wireless keyboard, with gorgeous added features."
  },
  {
    "objectID": "posts/2022-11-18-remote-work-config/index.html#mouse",
    "href": "posts/2022-11-18-remote-work-config/index.html#mouse",
    "title": "How I work remotely",
    "section": "Mouse",
    "text": "Mouse\nThe world of computer mice is dominated by Logitech, and I did not veer from that course. Logitech offers something for every market niche, and I picked up the Triathlon M720 for $40 on Facebook Marketplace. The mouse is known for long battery life (the secondhand batteries in mine lasted for 6 months) and performance that matches expectations. It too is connected by both Bluetooth and a dongle. The best feature I‚Äôve found is a side button that maps by default to the Windows and Mac window manager applications, allowing me to quickly flit between work. Maybe one day I‚Äôll purchase one of the vertical mice offered by Microsoft or Logitech, but the Triathlon is a great starter."
  },
  {
    "objectID": "posts/2022-11-18-remote-work-config/index.html#for-travel",
    "href": "posts/2022-11-18-remote-work-config/index.html#for-travel",
    "title": "How I work remotely",
    "section": "For Travel",
    "text": "For Travel\nWhen I purchased the NuPhy, I was worried about stashing it in a bag and grating off keycaps. NuPhy sells folios for the Air60 aimed at travelers to add some extra comfort. It has a really modern feel and was well worth the $10 they charged at the time.\nAdditionally, I purchased a NexStand collapsible laptop stand. Traveling with a keyboard is useless if the laptop stays at desk level and I had learned from my 2 years working remotely at Yale that my neck was going to rebel if we went back to those days. This stand can fit in my waterbottle pocket and holds up to my 16-inch Macbook Pro easily. It‚Äôs height adjusts to several levels and elevates the screen to eye-level. I was hesitant to shell out $45, but 2 days with it made it worthwhile.\nAfter all was said and done, I had a 32-inch 4k monitor, my laptop of the day, a keyboard, mouse, and a bunch of Humanscale components that all fit the same aesthetic. It‚Äôs been 4 months since I had all the parts together, and I feel more comfortable working longer hours than I worked at Yale."
  },
  {
    "objectID": "posts/2024-12-21-restoration-timeline/index.html",
    "href": "posts/2024-12-21-restoration-timeline/index.html",
    "title": "How to Restore a Bike",
    "section": "",
    "text": "The weekend before I married Claire, I was awash with nerves. When I‚Äôm restless, I reach for my pen; I find writing taxing enough that it tends to calm me down. That weekend, I wrote out a plan to restore my Wester Ross bicycle.\nAs I wrote earlier this week, I‚Äôm restoring my first bicycle to the glory it deserves. In 2026 or 2027, I want to ride l‚ÄôEroica on this bike, so aesthetics and period-correctness are paramount. That means sacrificing a smaller wheelset (which would probably fit my size better), different brakes (which would fit fenders more easily), and easier gearing (which would require removing a gorgeous Campagnolo crankset). But it also means I get to revel in old (and old-looking) touring gear since this bike features (one of?) the only touring groupsets made by Campagnolo.\nIt‚Äôs a fun goal with a lot of work in between. How can I make it happen? I have a tendency to lose steam halfway through a project, so I want to be realistic about how much effort this will take as well as find intermediate stopping points that leave me with a rideable bike. I find timelining with a Gantt chart helpful for stuff like this. All timelines end up wrong but, to appropriate George Box‚Äôs quote about models, some timelines prove useful.\nThis plan will let me know if I‚Äôm losing steam, estimate how much is left, and help others share in my ideas. Also I love mermaid diagrams üòÄ\nYou‚Äôll quickly notice that Tuesdays and Thursdays are the only open days on this chart and all work marked SBK occurs then. That‚Äôs because my local bike co-op, the Somerville Bike Kitchen, only runs open shop on those days. The space, tools, and experience of the staff are what gives me the confidence in completing this project: when I say to them that I want to restore it, they either get really pumped up or they take it in stride; no one second guesses that it‚Äôll be too difficult.\n\n\n\n\n\ngantt\n  axisFormat %b %d\n  tickInterval 1week\n  excludes monday, wednesday, friday, weekends, 2025-03-06\n  todayMarker off\n  section legend\n    home :active, 2024-12-25, 2025-01-01\n    SBK :2024-12-25, 2025-01-01\n    vendor :crit, 2024-12-25, 2025-01-01\n  section Disassembly\n    Wheels, seatpost, saddle :active, 2025-01-01, 1d\n    Cables, housing, brakes, stem, handlebars :2025-01-07, 1d\n    Fork, chain, derailleurs :1d\n    Crank and bottom bracket :1d\n  section Frame work\n    Sandblast :crit, 2025-01-16, 2025-01-21\n    Add mount points :crit, 2025-01-23, 2d\n    Powdercoat :crit, 1d\n  section Rehab components\n    True wheels :2025-01-21, 3d\n    Replace tires :active, 2025-01-29, 2025-01-30\n    De-rust small parts :2025-01-30, 3d\n    Replace bottom bracket, crank, cables, housing :1d\n  section Re-assembly\n    Chain, derailleurs :3d\n    Fork, brakes :1d\n    Wheels, seatpost, saddle :active, 1d\n  1st ride :milestone,\n  section Cosmetics\n    Apply decals :active, 1d\n    Install rear fender :2d\n    Cut front fender :1d\n    Install front fender :1d\n\n\n\n\n\n\nFollowing this timeline, I‚Äôll be finished before my trip to Italy in late March. Avoiding a long trip in the middle would help me keep momentum. Plus, I expect my trip will influence my taste and maybe introduce me to bike brands I don‚Äôt know about.\nMy goal is that this timeline doesn‚Äôt end up being very strict. Consulting has taught me to always pad your timelines‚Äîdoubling them being the recommendation‚Äîand to cut each task as small as possible to make it more defined and easy to estimate. I‚Äôve done that here where I feel less comfortable with the amount of time each task will take, for instance stretching the wheel truing process to 3 work days. Other tasks, like replacing the tires, I‚Äôve kept as single-day tasks since I feel confident about the work involved. I‚Äôve also left some time for other activities‚Äìdinner, drinks, movies, cozying up in front of Netflix‚Äîon Tuesdays and Thursdays.\nBuilding out a plan as precise as this makes some dependencies very clear and surfaces a few questions to research further.\n\nDependencies\n\nContact vendors to ensure that they can accept and turn around work in time. I plan to use Pike Powder Coating for sandblasting and painting and leave the mounting points for Royal H Cycles to add on. I‚Äôve contacted them in the past to estimate their timelines but need to follow up now.\nPurchase components that I plan to replace\n\nbottom bracket (can‚Äôt purchase until I can inspect the shell)\nchain\ntires: 27‚Äù x 1 1/8‚Äù, which is 1/8‚Äù narrower than my current selection; the 35mm fenders that will fit beneath my brakes demand tires no wider than 30mm\ncables\ncable housing\nSelle Anatomica saddle\ndecals\nbolts: I‚Äôll try to change as many as possible to one size head\n\nPurchase SBK membership so that I stop feeling bad using them without paying\nPurchase solutions that SBK doesn‚Äôt have\n\nEvapoRust\nrust preventer\n\nPurchase fenders\n\n\n\nOpen Questions\n\nWhat mount points can and should be installed?\nCan I cut fenders myself or could Royal H do that as well?\nHow can I figure out what I‚Äôm missing? I don‚Äôt have a restoration expert on call, so talking through each plan with the relevant vendor or SBK staff, with online fora for more niche topics, is probably my best bet\nCan I make the gearing any easier?\nWhat exact parts do I need?\nDo I need more or different parts to stabilize the rear brake, which refuses to stay centered?\nHow can I print the decals available on the Wester Ross Cycles Facebook group?\nWill Pike Powder Coating let me split sandblasting and powder coating into 2 stages so that mounting points can be added?"
  },
  {
    "objectID": "posts/2019-08-03-federal-register-api/index.html",
    "href": "posts/2019-08-03-federal-register-api/index.html",
    "title": "Federal Register API",
    "section": "",
    "text": "I created an R client to fetch data from the Federal Register, replacing an R package that had not been updated for years. It was my first foray into APIs."
  },
  {
    "objectID": "posts/2019-08-03-federal-register-api/index.html#tldr",
    "href": "posts/2019-08-03-federal-register-api/index.html#tldr",
    "title": "Federal Register API",
    "section": "",
    "text": "I created an R client to fetch data from the Federal Register, replacing an R package that had not been updated for years. It was my first foray into APIs."
  },
  {
    "objectID": "posts/2019-08-03-federal-register-api/index.html#overview",
    "href": "posts/2019-08-03-federal-register-api/index.html#overview",
    "title": "Federal Register API",
    "section": "Overview",
    "text": "Overview\nThe United States Federal Register is the clearing house for every revision to US administrative law, regulatory enforcement, and the more stupid forms of jockeying and horn-tooting by federal agencies. The website, charged with the supremely bureaucratic duty of pigeonholing and circumscribing every sort of change in the law, is quite beautiful. Its ease, features, and appearance bear the marks of something that is truly for the public.\nTo aid readers, [and the odd corporation trying to stay a step ahead of environmental regulations,] the Office of the Federal Register got a leg up from a developer who made an API client for R. Unfortunately,1 that client has been rendered useless by updates. In the name of openness digital and governmental, I set to work on a new API client that would:\n\nwork\nteach me the fundamentals of APIs\ndisplay some clever solutions"
  },
  {
    "objectID": "posts/2019-08-03-federal-register-api/index.html#footnotes",
    "href": "posts/2019-08-03-federal-register-api/index.html#footnotes",
    "title": "Federal Register API",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nAnd quite ironically for an institution with steeped in such bureaucracy.‚Ü©Ô∏é"
  },
  {
    "objectID": "posts/2024-12-19-rust-assessment-checklist/index.html",
    "href": "posts/2024-12-19-rust-assessment-checklist/index.html",
    "title": "Is restoring my bike worth it?",
    "section": "",
    "text": "How much rust is too much? I need to answer this question before I invest time and money in restoring my Wester Ross road bike: if the frame is, or will soon be, compromised by oxidation, then my restoration won‚Äôt be rideable! Ideally, I‚Äôd make my decision by weighing the expected enjoyment I‚Äôd get out of a restored bike against the expected cost of its restoration and proceed with restoring if \\(E[enjoyment] &gt; E[cost]\\). With the internet, the costs are easy to estimate:\n\n\n\ncomponent\ncost\n\n\n\n\nSandblasting\n$100\n\n\nPowdercoating\n$300\n\n\nAdding mount points\n$200\n\n\nDecals\n$20\n\n\nNew cables & housing\n$30\n\n\nNew saddle\n$100\n\n\nNew bottom bracket\n$40\n\n\nFenders & tires\n$150\n\n\nNew cassette\n$60\n\n\nRust protection\n$100\n\n\nRacks & bags\n$300\n\n\nTotal\n$1,400\n\n\n\nI first think about what else I could buy for $1,400: another beautiful old bike, perhaps one that accepts centerpull brakes, 40mm tires, and 650b wheels. In other words, a frame better suited to my frame and my life. But that‚Äôs why I have 2 bikes. As bikesnobnyc has said, sometimes the sacrifices of a road bike are all you need. Anyways, back to the bike at hand: for $1,400, I want at least 5 years of use out of the frame. I probably ride the bike 50 times a year, so 5 years would make 250 rides at the cost of $5.6 per ride.\nIt feels perverse to commodify each ride; part of why I like riding bikes is that, once you‚Äôre on, it‚Äôs free‚Äîfree to ride, free to park, freeing to go fast. But even a free bike doesn‚Äôt cost nothing. There‚Äôs maintenance, gear that you wouldn‚Äôt own but for the bike, places you wouldn‚Äôt eat if you didn‚Äôt ride there. Every so often, summing the costs makes sense.\nHowever, my intent to ride for 5 years is not the relevant question. The relevant question is can I ride this bike for 5 years? In 2025, this bike will be half a century old, plenty of time for rust to do its work. For those unfamiliar, steel frames are basically good for life‚Äîunless they crash or rust.\nRust is a tricky thing to evaluate. You can see when it‚Äôs not there but when it is there it‚Äôs not clear how much rust there is. Has the rust infiltrated the tubing, with the only thing keeping the frame from cracking in half the binding force of paint and dirt compacted over decades? If so, the bike will soon be toast, worth only its components.\nOf course, seeing infiltration means seeing inside the tubing, which really isn‚Äôt possible without taking apart the frame. Luckily, Redditors have developed ways of detecting the latent oxidation. Here‚Äôs 3: 1. Tap the frame with something metal. Rusted out spots should sound quite different than the rest. 2. Peer down the seat tube. 3. Rub a wire brush along the rusted spots to see what all comes off and get a closer look at possible pitting.\nI tried all of these tonight at the Somerville Bike Kitchen with mixed results. Tapping the frame yielded pretty much nothing, as the change in tube diameters confounds what differences there may be in rusted spots. I suppose this might work for really serious cases but not for moderate ones, which is where I figured I might be.\nPeering down the seat tube was actually a huge relief. Not only did it look okay, there was actually a really shiny piece at the bottom! Turns out this bike got a cartridge bottom bracket replaced recently and it looks even more recent than my purchase. I couldn‚Äôt see below the bottom bracket (of course) which would have told me about rust there. That would have helped because its there were you‚Äôd expect the most moisture to collect.\nRubbing a wire brush has its expected limitations‚Äîyou don‚Äôt learn about the inside‚Äîbut fellow bike chefs said it didn‚Äôt look bad. With all this knowledge, all that‚Äôs left is the ultimate test of removing the bottom bracket! Stay tuned for another post describing my plan for this restoration. I had already scoped out the work needed to give this bike all the glory it deserves, so I would have been heartbroken to see it scuttled."
  },
  {
    "objectID": "posts/2019-11-21-american-heartbreak/index.html",
    "href": "posts/2019-11-21-american-heartbreak/index.html",
    "title": "American Heartbreak",
    "section": "",
    "text": "I am the American heartbreak‚Äì\n\n\nThe rock on which Freedom\n\n\nStumped its toe‚Äì\n\n\nThe great mistake\n\n\nThat Jamestown made\n\n\nLong ago\n\n\n‚Äî Langston Hughes\n\nWhenever I try to recall this poem, I search for ‚ÄúPlymouth Rock poem‚Äù, and freak out beacuse I can‚Äôt find it for a few seconds. This is because, all along, Hughes alludes to the founding of our nation without ever saying so. He points to our founding virtue, Freedom, and asks the reader to define it‚Äîsuddenly‚Äîin their head. This question calls up our national myth, of virile men casting off the oppressive British yoke, which implants in Americans a desire for revolution and newness and independence.\nI find this desire each time I encounter American colonial history. There is the Massachusetts Bay colonizers, and the Virginia Company of London, more than anything else I want to race forward to 1776. American history teaching defaults to setting our cast of characters on the North American continent in order to reach revolution, with that noble end somehow justifying everything that came before (if not ethically, then morally: we suffered, and thus deserve Freedom). In the same way, the outposts of our frontiersmen and women served to legitimize the murder of indigenous people, conquest of Mexican territory, and deaths of our own colonizers.\nWhile this myth may be just that, it is a powerful story that is consistently told. Hughes rides its momentum, immediately clipping America‚Äôs great strides towards Freedom with the realities of chattel slavery. Nothing could be further from Freedom. But Hughes is acknowledging the promise of Freedom: one‚Äôs heart can‚Äôt break if it doesn‚Äôt first beat. By acknowledging the promise along with its failure, Hughes ties this heartbreak inextricably to our nation‚Äôs founding. This is the American heartbreak, bound up with the 400-year history of democracy in Jamestown. Hughes pulls us‚Äîwith present tense, with reference to Jamestown, by describing something so hard, so immovable, so central to that other early colony‚Äîinto the contradiction hidden in our nation‚Äôs founding, and still so hidden today."
  },
  {
    "objectID": "posts/2020-07-01-debt-mounts-for-us-retail-and-lodging-mortgagors/index.html",
    "href": "posts/2020-07-01-debt-mounts-for-us-retail-and-lodging-mortgagors/index.html",
    "title": "Debt Mounts for US Retail and Lodging Mortgagors",
    "section": "",
    "text": "This post was originally published on the YPFS Systemic Risk blog\nGovernment-mandated shutdowns in response to the novel coronavirus have triggered delinquencies among commercial mortgages as businesses struggle with revenue. The purpose of this article is to characterize the risks to US commercial real estate posed by COVID-19 responses. Due to reporting incentives, data on mortgages packaged into commercial mortgage-backed securities (CMBS) is more accessible and granular than data on the whole commercial mortgage market. Even though CMBS-associated properties constitute just 20% of outstanding multifamily and commercial debt, the data generated by such properties can indicate how the whole commercial real estate sector may be affected. On June 4, commercial real estate research firm Trepp reported its largest jump in delinquencies among mortgages involved in the $1.4 trillion CMBS market, with the rate spiking from 2.29% to 7.15%.\nThere is real stress on commercial landlords. But that stress sits narrowly within the commercial market. The same Trepp report disaggregated delinquencies, noting nearly 20% of lodging, and more than 10% of retail mortgages were delinquent in May. Less than 4% of multifamily, office, and industrial mortgages were delinquent over the same period. Despite historically high unemployment, government stimulus supports have perhaps helped sustain rental payments. Publicly traded equity real estate investment trusts (REITs) invested in apartments collected at least 93% of rents in April, with most trusts collecting 95% or more. Meanwhile, offices continue to operate remotely, and warehousing has become more valuable as delivery services take on new importance.\n\nRetail shows signs of life\nThe speed at which consumers return to retail and lodging will factor importantly into the viability of mortgages in those sectors. The same data on publicly traded equity REITs reports rent collection figures for several owners of regional malls and shopping centers. Overall, between 50% and 65% of April rents were collected in shopping centers, while regional malls collected just 26% to 30% of rental payments.\nAs states re-open, rent payments may increase quite quickly. In Arizona, Florida, Georgia, and Texas, as of June 2, retail foot traffic had already surged from its April nadir, but only to 38-52% of 2019 levels. Retail nationwide grew 17.7% in May, beginning to make up for sales contractions in March and April of 8.3% and 14.7% respectively. Further, the distribution of volume among types of businesses is unknown. The lockdowns have already caused the bankruptcy of JC Penney and Hertz, with AMC movie theaters currently being threatened. But stock data indicates that investors believe retail real estate has already bottomed out. After crashing in late February, prices of several large mall operators and REITs have stabilized and trended up.\n\n\nCode\nlibrary(tidyverse)\n\n\nWarning in system(\"timedatectl\", intern = TRUE): running command 'timedatectl'\nhad status 1\n\n\nCode\nlibrary(lubridate)\n\nread_csv(\"data/reit.csv\") %&gt;%\n  group_by(symbol) %&gt;%\n  mutate(adjusted = 100*adjusted/adjusted[date == min(date)]) %&gt;%\n  ungroup() %&gt;%\n  ggplot(aes(date, adjusted)) +\n  geom_line(aes(col = symbol), show.legend = F) +\n  stat_summary(fun = \"mean\", color = \"#286dc0\", size = 1, geom = \"line\", show.legend = F) +\n  scale_color_grey() +\n  scale_x_date(expand = c(0,0)) +\n  scale_y_continuous(limits = c(0, 110), expand = c(0, 1)) +\n  labs(x = NULL, y = \"Percent of Feb. 21 closing price\", title = \"Price change of NYSE-listed REITs since first confirmed case\", subtitle = \"Unweighted daily average in blue\", caption = \"Source: Yahoo Finance\") +\n  theme(plot.title = element_text(color = \"#00356b\", vjust = -1.67), plot.subtitle = element_text(color = \"#00356b\", vjust = -1), plot.caption = element_text(color = \"#4a4a4a\"),\n        axis.title = element_text(color = \"#222222\"), axis.text = element_text(color = \"#4a4a4a\"), axis.ticks = element_line(color = \"#222222\"),\n        panel.background = element_rect(fill = NA), panel.grid = element_line(color = \"#dddddd\"),\n        legend.position = \"bottom\")\n\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\n‚Ñπ Please use `linewidth` instead.\n\n\nWarning: Removed 47 rows containing non-finite values (`stat_summary()`).\n\n\nWarning: Removed 23 rows containing missing values (`geom_line()`).\n\n\n\n\n\n\n\n\n\nThe market‚Äôs gradual recovery may have been informed by other indicators than the overall delinquency rate. Though 7.15% of securitized commercial mortgages were delinquent in May, 70% of those were only one month late. Trepp noted that a large number of mortgages remained in their 30-day grace period or actually reverted to current on their payments, though historically high delinquencies should still be expected.\nDespite these expectations of recovery, the woes for commercial real estate may have just begun. Financial Times pointed to June as a crucial test for businesses, since debt two months late often triggers serious penalties. Moreover, data collected by the Federal Reserve Bank of St.¬†Louis since 1991 show commercial delinquencies spiking as recessions end (Fig 2). Moreover, bond prices for CMBS exposed to lodging have tumbled. The same Financial Times article noted that BBB-rated tranches exposed to lodging shed approximately 40% of their value since early March. The asset specificity of hotels only lowers the value of real estate already faced with structural devaluation by services such as Airbnb.\n\n\nCode\ndelin &lt;- fredr(series_id = \"DRCRELEXFACBS\") #retreive delinquency data using fredr\nrecessions &lt;- read_csv(\"start, end\n1990-07-01, 1991-03-01\n2001-03-01, 2001-11-01\n2007-12-01, 2009-06-01\n2020-02-01, NA\") #add recessions from https://fredhelp.stlouisfed.org/fred/data/understanding-the-data/recession-bars/\n\n\nRows: 4 Columns: 2\n‚îÄ‚îÄ Column specification ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nDelimiter: \",\"\ndate (2): start, end\n\n‚Ñπ Use `spec()` to retrieve the full column specification for this data.\n‚Ñπ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nCode\nrecessions[nrow(recessions), 2] &lt;- Sys.Date() #update current recession with today's date\n\nggplot(delin) +\n  geom_line(aes(date, value), color = \"#286dc0\", show.legend = F) + #line plot of trade-weighted US dollar index\n  geom_rect(data = mutate(filter(recessions, end &gt;= min(delin$date), start &lt;= max(delin$date)), #only include recessions ending after start of series and beginning before end of series\n            start = if_else(start &lt; min(delin$date), min(delin$date), start)), #trim start of overhanging recession\n            aes(xmin = start, xmax = end, ymin = -Inf, ymax = Inf), #define sides of rectangle\n            fill = \"#978d85\", #Yale shading color\n            alpha = .33) + #opacity\n  scale_x_date(expand = c(0,0), date_breaks = \"2 years\", date_labels = \"%Y\") +\n  scale_y_continuous(expand = c(0,0)) +\n  labs(x = NULL, y = \"Rate\", title = \"Commercial delinquency rate, 1991Q1 - 2019Q4\", subtitle = \"Shaded areas indicate recessions\", caption = \"Source: Federal Reserve Board of Governors\") +\n  theme(plot.title = element_text(color = \"#00356b\", vjust = -2), plot.subtitle = element_text(color = \"#00356b\", vjust = -1), plot.caption = element_text(color = \"#4a4a4a\"), plot.margin = margin(r = 10),\n        axis.title = element_text(color = \"#222222\"), axis.text = element_text(color = \"#4a4a4a\"), axis.ticks = element_line(color = \"#222222\"),\n        panel.background = element_rect(fill = NA), panel.grid = element_line(color = \"#dddddd\"))\n\n\n\n\n\n\n\n\n\n\n\nSupport for commercial real estate must proceed carefully\nLandlords and owners are navigating treacherous waters should commercial tenants require serious rent assistance. While CMBS loans tend to be non-recourse, it is standard practice for loans to feature ‚Äúbad boy‚Äù covenants designed to guard against principal-agent risk. Such covenants provide recourse in the event that borrowers commit actions that (in normal times) are irresponsible. Real estate attorneys point to two such actions in particular: significant rent renegotiation, and taking on senior indebtedness without investor consent.\nUS programs have thus far steered clear of these debt covenants, and offer viable channels should further support be authorized. The Payroll Protection Program (PPP), offering forgivable and unsecured loans to businesses, recently expanded the amount that could be used for non-payroll expenses to 40%, opening the door to rent support. Borrowing terms for the three programs under the Main Street Lending Program have also eased. The Priority and Extended lending facilities (MSPLF and MSELF, respectively) require loans to be secured, and prohibit subordination, but carve out exceptions for outstanding mortgage debts.\nGiven that these programs appear to avoid the dangers posed by ‚Äúbad boy‚Äù covenants, it seems likely that strained borrowers are equipped with the resources to secure credit lifelines to at least prolong defaults for several more months. On the other hand, it seems unlikely that the Federal Reserve (Fed) would engage private CMBS markets in a more direct fashion. Thus far only two Fed actions support private CMBS. In March it included agency CMBS in its plan to make Open Market Desk purchases of $200 billion of MBS, and in April it expanded the eligible collateral for the Term-Asset Securities Lending Facility to include AAA tranches of CMBS. A previous YPFS article found that the Fed‚Äôs purchasing announcement had a positive effect on agency mortgage REITs (mREITs) while having only minimal effects on non-agency residential mortgage REITs.\nEquity REITs face different issues, principally those of eligibility and restrictions on usage. While property management companies are eligible for both PPP and MSLF loans, it is unclear as to whether equity REITs are eligible. They may violate the Small Business Administration‚Äôs rules making ineligible for loans ‚Äúdevelopers and landlords that‚Äù generally ‚Äúdo not actively use or occupy the assets acquired or improved with the loan proceeds.‚Äù However, equity REITs have applied for, and received PPP loans, potentially pushing this issue to the oversight bodies authorized by the CARES Act.\nAdditionally, the CARES Act prohibits the payment of dividends by corporations receiving support. While several programs have received blanket waivers from the Treasury Department, the Main Street Lending Facility has not. The legal structure of REITs requires the payment of dividends, and many REITs have opted to pay mostly in stock. REIT trade associations have already written to the Treasury Department requesting a waiver for this particular case, while the Internal Revenue Service has reprised rules adopted during the Global Financial Crisis, allowing REITs to hold (and therefore distribute) less cash.\nThe New York Times highlighted name-brand tenants‚ÄìGap, LVMH, Starbucks‚Äìthat had stopped paying rent and started renegotiating leases. The article noted that ‚Äúthe strongest tenants ‚Äî those most able to pay ‚Äî are driving the hardest for a discount.‚Äù When renters know that the options for landlords are either lease renegotiation or a total loss of income, those with the ability to pay may augment the demands of those that cannot pay, further pressuring landlords.\nA Deloitte report noted that real estate development had flagged, with more than half of US construction firms surveyed halting projects. Social distancing rules precipitated decreased demand and disrupted construction sites. Commercial real estate‚Äôs sensitivity to economic downturns compounded the effects of decreased demand. The Deloitte report suggested that developers adapt rental properties to meet the needs of a changed society and strengthen resilience to future pandemics. The shock to brick-and-mortar businesses is likely to accelerate permanent transitions to online retail, work, and customer service across sectors. While several large companies have started these transitions, they will likely take several years to complete. Such a timeframe would flatten and spread the risks to commercial real estate finance.\nIn contrast, the greatest short-term risks posed by US commercial mortgages sit narrowly in lodging and retail, though high-turnover coworking spaces have already seen slashed revenues. CMBS-associated mortgages account for one fifth of outstanding commercial debt. While data are more widely and finely available for properties underlying CMBS loans, concerns similar to those discussed above exist with respect to non-securitized commercial mortgages. Where investors are exposed to lodging, prices have slumped, and questions abound regarding the sector‚Äôs long-term viability as nearly 20% of the CMBS-associated mortgages were reported delinquent in May. Retail activity is growing, but there is concern as to whether the recovery will be fast enough to stave off default in a sector with more than 10% of securitized mortgages in delinquency, which could hamper the real economy‚Äôs general pace of recovery."
  },
  {
    "objectID": "posts/2019-10-20-20-miles-later/index.html",
    "href": "posts/2019-10-20-20-miles-later/index.html",
    "title": "20 Miles Later",
    "section": "",
    "text": "In 4 weeks, I‚Äôll toe the line at the VCU Health 1 Richmond Marathon. This last month has seen me run consistently farther than I ever had before, so I‚Äôve had to find new places to keep my legs and mind busy. At four weeks out, most marathon plans advocate for a very long run, of about 20 miles. I did it yesterday, and I‚Äôm still not sure if my calves will be ready to go next Saturday, let alone tomorrow!\nConveniently, Charllottesville has a beautiful 20-mile trail that circumscribes the city. All of the lands are City parks or private easements, so it tends to be corners of property and scraps of backyards, and a lot of dilapidated industry. But the isolation can be unnerving: I can count on a single hand the amount of women I have seen run alone during the 15+ hours I‚Äôve spent on it. There are several sections where the trail curls and the trees lean over and I think to myself what a wonderful place to be attacked.\nBut the vast majority of the trail isn‚Äôt like this. Much of the trail parallels Charlottesville‚Äôs poorest neighborhoods, where residents have had to deal with me confronting a lot of my own privilege. The vast majority is me, clohtes only in 5‚Äù running shorts, a watch, and sneakers taking up space and air outside someone else‚Äôs home. Here it‚Äôs the lack of clothing and equipment that define my position. I have a place to store my clothing, I have the resources to clean my sweaty shorts three times a week, I don‚Äôt need to bring my phone because I‚Äôm confident no one will look at me like I want their money. For a few minutes each Saturday I take in the atmosphere outside your home, leaving only the sound of my shoes pounding the trail, and my lungs heaving slightly."
  },
  {
    "objectID": "posts/2019-10-20-20-miles-later/index.html#footnotes",
    "href": "posts/2019-10-20-20-miles-later/index.html#footnotes",
    "title": "20 Miles Later",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nKudos to VCU for ending their practice of suing patients for non-payment! I wish the same could be said for UVA.‚Ü©Ô∏é"
  },
  {
    "objectID": "posts/2025-01-31-ready-for-paint/index.html",
    "href": "posts/2025-01-31-ready-for-paint/index.html",
    "title": "Ready for paint!",
    "section": "",
    "text": "You wouldn‚Äôt be shocked, you‚Äôd be satisfied to learn what‚Äôs inside your bike. It‚Äôs like the last puzzle piece or dessert at the end of a good dinner: something was already pretty good but your mental image of the thing would be incomplete without it. On the other hand, you would be shocked at how much force is required to get the stuff inside your bike out.\nSince I last wrote, I purchased an annual membership to the Somerville Bike Kitchen and promptly began using their nichest of tools. To wit,[^Think about that phrase for a second! It is such fun to say yet what is its literal meaning?] I found myself in need of a headset cup removal tool. You may not have heard of that tool before but, given that it has a name, it sounds necessary enough: how else are am I to remove my headset cups, save for a headset cup removal tool? The tool looks like the end of a rifle that Jerry just smushed Tom‚Äôs tail into, just after it fired.\n\n\n\nPark Tool‚Äôs headset remover tool.\n\n\nBefore I spent 10 minutes trying to get Gemini to guess what I was trying to say, I lost 30 minutes trying to tap the headset cups out using a hammer, a flathead screwdriver, and this deliciously 80s tutorial. When I found the tool at SBK, I thought I was finally on the downhill of the roller coaster. Instead, my experience was another 30 minutes that sounded a lot more BANG WHAP THUD than tap tap tap.\nThe force required was somewhat understandable, however, when you consider that they held. I‚Äôm not talking about the bearings and washers pictured here but rather that these cups held back the crap of the world that had splattered itself over every other millimeter of my bike for the last half century. ![Headset bearings and washers.] The inside of the headtube was immaculate. It bore paint residue and nothing else; the air inside had probably not been uncorked since the 1970s.\nEnough sentimentality, let‚Äôs think about time and its grotesquely modern equivalent‚Äîmoney. In terms of time, I‚Äôm behind schedule. This week, I‚Äôm supposed to be truing wheels and receiving the bike back from painting. Instead, I‚Äôve just dropped it off at Pike Powder Coating. Like a good agilist, I‚Äôm going to roll with these changes and update my trusty Gantt chart.\nI‚Äôve decided that, to be an even better agilist, I need to change how I sequence this project. Instead of doing everything before I put the bike back together, I‚Äôm only going to do the things now that require multiple components to be removed. For example, I‚Äôm going to put off truing my wheels because those only require the wheels themselves to be removed while work on the bottom bracket requires removing the crank and pedals as well. This way, I can get to an MVB faster and‚Äîfar more importantly‚ÄîI can mitigate the risk that something I change will cause unexpected impacts. Making one change at a time gives me a feedback loop so that I can isolate the effects of individual changes. It also can help keep up momentum because I will be able to feel the impacts of each new change once I make the bike rideable again.\nWith all those thoughts in mind, here‚Äôs my new timeline:\n\n\n\n\n\ngantt\n  axisFormat %b %d\n  tickInterval 1week\n  excludes monday, wednesday, friday, weekends\n  todayMarker off\n  section legend\n    home :active, 2025-02-01, 2025-02-08\n    SBK : 2025-02-01, 2025-02-08\n    vendor :crit, 2025-02-01, 2025-02-08\n  section Frame work\n    Sandblast & powdercoat :crit, 2025-01-30, 1d\n  section Rehab components\n    De-rust small parts :2025-02-11, 3d\n    Replace bottom bracket, crank, cables, housing :2d\n  section Re-assembly\n    Chain, derailleurs :1d\n    Fork, brakes :1d\n    Wheels, seatpost, saddle :active, 1d\n  1st ride :milestone, 1d\n  section Cosmetics\n    True wheels :2d\n    Add mount points :crit, 1d\n    Cut fenders :crit, 1d\n    Install fenders :2025-03-31, 1d\n    Apply decals :active, 1d\n    Re-wrap handlebars :1d\n\n\n\n\n\n\nIn this version, my goal is to be able to ride the bike before my trip to Italy in mid-March. I‚Äôll drop off the bike at the framebuilder while I‚Äôm traveling, and then return to finish the build.\nNext up is the thankless job of de-rusting and cleaning all the components that I want to keep; things like the derailleur that are just grungy and deserve a thorough wash. I‚Äôll need to grab a plastic bucket and wear my newly procured apron in order to do this safely and I have to say that this just sounds like a bore to me, even though its result is something I‚Äôm quite excited about.\nBut not as excited as I am about the bottom bracket. I never thought I‚Äôd be saying those words until I discovered that the bottom bracket I removed from this bike was a Phil Wood. These retail for about $200 today and their design hasn‚Äôt changed since the 1970s, which means that I can still buy new parts for it! My first thought when I took this out was actually a four-letter word (or several) because my original plan was to replace whatever was installed with a $40 Velo Orange cartridge. Its pedigree demands somewhat better treatment instead. As snobby as that sounds‚Äîand it most definitely is snobby‚Äîtake a look at this thing: \nAll these parts make me curious about who owned this bike before me because I can‚Äôt imagine a more expensive build. I thought about what everything from the component manufacturers would cost in today‚Äôs dollars and here‚Äôs what I got. It‚Äôs difficult to compare for a lot of reasons but, notably, Campagnolo never built another touring groupset. Their dabbles in gravel are (hopefully) comparable so I went with the top-spec Ekar groupset and Levante wheels. It assumes disc brakes but, then again, it also assumes integrated shifting and 13 speeds. Cinelli luckily also sells their Giro d‚ÄôItalia bars, so that comparison is actually quite straightforward. I am missing some of the brands and lots are ranges but here‚Äôs the guess:\n\n\n\ncomponent\ncost\n\n\n\n\nCampagnolo Ekar groupset\n$1,300\n\n\nCampagnolo Levante wheels\n$1,200\n\n\nCinelli handlebars\n$95\n\n\nPhil Wood bottom bracket\n$200\n\n\nUnknown brand seatpost\n$100-$200\n\n\nUnknown brand saddle\n$100-$200\n\n\nCustom steel frame & assembly\n$1,000-$3,000\n\n\nTotal\n$4,000-$6,500\n\n\n\nIn 1975 dollars, that would equate to $700-$1,100, amazing for a bike for which I paid $400 in 2020.\nAnyway, here‚Äôs the bike, all stripped of components and ready for paint.\n\n\n\nBlank frame"
  },
  {
    "objectID": "posts/2019-11-16-3-things-i-learned-from-my-marathon/index.html",
    "href": "posts/2019-11-16-3-things-i-learned-from-my-marathon/index.html",
    "title": "3 Things I Learned from my Marathon",
    "section": "",
    "text": "Let me avoid‚Äîfor all our sakes‚Äîtransforming my blog into a clich√©d, over-exposed photo essay of my personal struggle running. That being said, I was struck, as it was impossible not to be, by several aspects of the race weekend:\n\nMarathons are a fucking business. The City of Richmond anaesthetized its downtown and a good chunk of its of the scenery for this event. Unimaginably, the $100 entry fees are well-priced (at least for the marathon). Every mile brought, alternately, water, powerade, and port-a-johns or a live band. The entire day preceding was filled with events and vendors at Richmond‚Äôs convention center. In addition to the requisite race shirt, medal, and very necessary blanket, the finish line included yoga sessions, beer on tap, and pizza, all included. Meeting this massive coordination of resources were runners‚Äîtruly of all types‚Äîswaddled in air-wicking this and energy-conserving that. They came and came, some twenty odd thousand, the majority towing families, friends, and track clubs. As a lone runner with 4 year-old shoes, all this baggage was so apparent. And sometimes this baggage wanted to make itself known, with a glimmering wristwatch or suspension systems for their extraneous gear. At day‚Äôs end, however, there are no shortcuts through 26.2 miles. Your $250 Vaporfly‚Äôs are no match for my ragged Kinvara 5‚Äôs if my breath is measured and stride high.\nMy stride, however, was not high. This was absolutely an ordeal, if not quite of epic proportions. Due mostly to the hard shock of tarmac and my injury-diminished mileage these last few weeks, my calves began to make their presence felt about 4 miles in, which was about 10 miles earlier than I had hoped. Still, Richmond‚Äôs gentle terrain kept my pretty good until mile 16, when:\n\n\nWind made forward progress suddenly a thing to think about, instead of do\nMy dinner finally caught up with me Fighting these knocked me out of a stride I had found for the first time around the half-marathon mark. I made it through the next ten miles because of the runners showing me left and right how to fight, and the outstanding spectators. During my training, I probably saw a total of 200 people, most of which were at a single park in Charlottesville. Here I could not run 100 meters without a banana, a high-five, or a swig of Miller Lite. At mile 21, I heard the first call for BEER, and double taked, able to snake across the road to the last volunteer. That helped.\n\n\nThis was as much a marathon as it was a real estate tour. I had always drove through Monument Ave. and thought it quaint in comparison to New Orleans‚Äô St.¬†Charles St.¬†It turns out that is not where Richmond‚Äôs wealthy live. Continue on Monument, crossing over the freeway built to punish Black neighborhoods for school integration, and you‚Äôll enter Henrico County. There Riverview Dr.¬†follows lazily the James, and hundred-acre estates dominate both City and County waterfronts."
  },
  {
    "objectID": "posts/2025-01-01-year-in-review/index.html",
    "href": "posts/2025-01-01-year-in-review/index.html",
    "title": "2024‚Äôs 2 favorites",
    "section": "",
    "text": "I expected to use this post to look back at 2024‚Äôs resolutions but I opened my notebook and found the pages jumped from September 2023 to March 2024‚Äîoops! So, I raked my Strava, Goodreads, Letterboxd, and Instagram, allowing the mushier experiences compost and leaving the hard, memorable bits remaining. I‚Äôm indecisive so I chose 2 for each category.\n\nBest movie not released in 2024\nFritz Lang‚Äôs Metropolis, screened in 4k at the Somerville Theater on April 12 and accompanied by Jeff Rapsis on the synthesizer for a live score. I‚Äôve seen this film twice before and always found myself lagging during the story‚Äôs midsection. As often happens, seeing it in a theater changed everything: Jeff‚Äôs score brightened the dull moments and the crowd‚Äôs laughter made joy out of the silly bits that didn‚Äôt age well.\n\nSecond best\nBrian De Palma‚Äôs Phantom of the Paradise, screened at the Brattle Theater on July 12\n\n\n\nBest fiction\nJonathan Franzen‚Äôs The Corrections, finished on October 9\n\nSecond best\nTed Chiang‚Äôs Exhalation, read between October 31 and November 6\n\n\n\nBest creative nonfiction\nRebecca Solnit‚Äôs Orwell‚Äôs Roses, read from January 29 to February 2. Among other things, this book reminded me of that Nabokov quote, that there is no such thing as reading, only re-reading:\n\nWhen you encounter [old books] again, you see differently because you‚Äôre different. Some books grow, some wither upon reacquaintance, or because you‚Äôre asking different questions you find different answers. What struck me was how much lushness and beauty and pleasure are in Nineteen Eighty-Four. They‚Äôre endangered, furtive, corrupted, but they exist\n\n\nSecond best\nRebecca Solnit‚Äôs Wanderlust, read from December 12, 2023 to January 8. She‚Äôs just so good.\n\n\n\nBest instructional nonfiction\nDaniel Coyle‚Äôs The Culture Code, read from December 4 to December 7\n\nSecond best\nBen Green‚Äôs The Smart Enough City, read from October 17 to October 21\n\n\n\nBest train ride\nTransport for London‚Äôs Elizabeth Line, taken on November 9 and 11. Who would think you could take a train straight from the terminal to a 10-minute walk to your hotel?\n\nSecond best\nBarcelona to Madrid, taken on November 14\n\n\n\nBest meal\nPammy‚Äôs? La Sala? La Orza? These were certainly the fanciest dinners I and Claire had. However, I need to say our wedding cocktail hour on October 12: yellowtail tacos, oysters, mini lobster rolls, and of course bluefish pat√©, Puritan & Co.‚Äôs specialty. It was a smorgasbord made all the more savory by the people around us and our joy that day. (I love you, Claire :)\n\nSecond best\nMichette‚Äôs gargantuan pain suisse: a lode of nougat buried in a mountain of pastry.\n\n\n\nBest route\nIsland hopping in Casco Bay on August 24 and 25. I‚Äôve had more energetic endeavors (see below) but this was a triumph of trip planning: I brought together 7 people who only knew one other person and picked an activity‚Äîsea kayaking‚Äîthat would be new to everyone but approachable for everyone. Nerves were everywhere until we caught sight of the bay: clear skies and calm, blue waters forced a sigh of releief out of everyone. The next 24 hours were all easy paddling.\n\nSecond best\nThe White Mountains‚Äô Presidential Traverse, started and finished on July 27 but the culmination of a 7-year dream.\n\n\n\nBest recipe\nOn Vegetables‚Äô Ratatouille and Zucchini Bread (credit Jeremy Fox) cooked on September 16, 2024. This recipe actually took 2 days: day 1, I made the zucchini bread and Claire and I ate leftovers; I had discovered, halfway through the recipe, that the ratatouille needed 3 hours to simmer; so, on day 2, I picked up the work and ended up with something worthy of that scene in Ratatouille where the critic is transported to his mother‚Äôs pastoral kitchen.\n\nSecond best\nThe Farm Table Cookbook‚Äôs Spring on a Plate (credit Julius Roberts) cooked on June 24, 2024\n\n\n\nBest cup of coffee\nOctant Furnas‚Äô cortado, drank on November 22, 23, and 24. I‚Äôm wary to name a luxury hotel‚Äôs coffee actually great, so don‚Äôt go to the Azores just for it. Go for many other reasons, and stay at the Octant Furnas for this!\n\nSecond best\nNinebar Espresso‚Äôs Flat White\n\n\n\nBest alcoholic drink\nWhatever Pammy‚Äôs made me on March 18. I‚Äôm often taken by flashy words, rare[-sounding] spirits, and then wind up with a highball glass full of cough syrup. This was different; I listened to Claire and talked with the server and drank something refreshing.\n\nSecond best\nEl Albero‚Äôs amontillado sherry, drank on November 15. Who knows how much this cost? More importantly, who cares? I could drink it every day for the rest of my life."
  },
  {
    "objectID": "posts/2020-07-01-federal-reserve-further-expands-access-to-municipal-liquidity-facility/index.html",
    "href": "posts/2020-07-01-federal-reserve-further-expands-access-to-municipal-liquidity-facility/index.html",
    "title": "Federal Reserve further expands access to Municipal Liquidity Facility",
    "section": "",
    "text": "This post was originally published on the YPFS Systemic Risk blog\nOn June 3, the Federal Reserve Board of Governors unanimously approved a second expansion of eligibility under its Municipal Liquidity Facility (MLF).\nAuthorized by the CARES Act, the MLF can purchase up to $500 billion of newly-issued bonds from qualifying municipalities, using funds from the Fed and Treasury. Until this latest action, the MLF had restricted the eligibility of cities and counties based only on their population. The newest terms guarantee the eligibility of at least two political subdivisions and two revenue-bond issuers from each state.\nThe expansion comes after the Fed once again weathered criticism from state governors and representatives that the MLF‚Äôs eligibility criteria were too narrow. The original MLF criteria designated states, the District of Columbia, cities larger than one million residents, counties larger than two million residents, and one revenue-bond issuer (such as a utility or transit authority) per state as the only eligible recipients.\nIn effect, the original term sheet ceded borrowing privileges to just 10 cities and 16 counties. The Federal Reserve at the time said states could funnel the proceeds from bond sales to smaller cities and counties whose budgets had been strained by the effects of the novel coronavirus.\nBut this approach, while preserving the Fed‚Äôs historical distance from small borrowers, ran into several issues. For instance, some states lack the organizational infrastructure to lend to cities and counties. More importantly, several states face legal impediments to borrowing. Twenty-one states require referenda to issue debt at levels demanded by COVID-19 disruptions, while a previous YPFS blogpost noted that several more states require legislative supermajorities to push through bond issuances. The current situation presents unique challenges to meeting such requirements, given that social distancing demands have closed many governing bodies and forestalled the possibilities of voting. In many cases, safe alternatives have not yet been designed.\nMembers of Congress criticized the Fed‚Äôs narrow interpretation of the CARES Act, which did not specify eligibility criteria for the MLF. The Fed‚Äôs first expansion on April 27 extended the program from September 30 to December 31, and lowered the eligibility thresholds from 1 million residents per city and 2 million residents per county to 500,000 and 1 million, respectively. As a result, the total number of eligible cities and counties increased from 26 to 227. However, even under the amended criteria, several states still lacked a single municipality that met the population threshold.\nThe June 3 terms lowered the thresholds again to 250,000 residents per city and 500,000 residents per county. Should a state lack one or two municipalities that meet these thresholds, governors may designate one or two of the largest ineligible cities or counties. Governors may also designate two non-governing entities that currently issue bonds secured by government revenue. Additionally, multi-state revenue-bond issuers, such as the Port Authority of New York and New Jersey and the Washington Metropolitan Area Transit Authority, are now also eligible issuers, provided that minimum credit rating thresholds are met.\nThe Fed has not changed the original terms regarding the MLF‚Äôs size, and eligible uses of funds. The facility is authorized to purchase up to $500 billion in eligible bonds (allocated among the states as proportions of FY2017 general revenue), and is backstopped by an equity investment of $35 billion from the Treasury‚Äôs Exchange Stabilization Fund, as authorized by the CARES Act. The facility takes the form of a special purpose vehicle (SPV) established by the Fed under Section 13(3) of the Federal Reserve Act. The facility may purchase ‚Äútax anticipation notes (TANs), tax and revenue anticipation notes (TRANs), bond anticipation notes (BANs), revenue anticipation notes (RANs),‚Äù and similar bonds with maturities no longer than 36 months, funding up to 20% of a state, county, city, or revenue-bond issuer‚Äôs revenue.\nSmall cities are particularly sensitive to economic shocks due to their dependence on sales tax. Brookings reported that cities in the Midwest, generally smaller than those in the dense East and heavily urbanized West, rely more on sales taxes. Whereas property values are assessed not more than once a year, and income taxes are filed annually, sales tax receipts enter municipal finances at frequencies varying between once a month and once a year. These higher-frequency collections mean that shocks affect sales tax revenues much more quickly than other types of taxes.\nCompounding pressure on the MLF to purchase small-city debt are high-population thresholds and use restrictions on CARES Act grants. Under the Coronavirus Relief Fund, only municipalities with 500,000 residents or more are eligible and funds may only be used for necessary and unexpected expenditures demanded by COVID-19. Thus, monies cannot be used to compensate for reduced sales tax receipts, a use that is permissable for proceeds from MLF bond purchases.\nThe MLF marks the first time the Federal Reserve has waded into direct purchases of municipal bonds. In 2011, in the wake of the Global Financial Crisis, Republicans in both chambers balked at suggestions from Democrats that the federal government bail out municipalities. The then-Chair of the Federal Reserve, Ben Bernanke, said that the Fed had ‚Äúno expectation or intention to get involved in state and local finance.‚Äù The Fed‚Äôs legal authority to buy municipal bonds extended to only 2% of the market, and Bernanke noted that there might be other legal restrictions under the Dodd-Frank Act.\nBut, in spite of the Fed‚Äôs historic distance from municipal debt, the efficacy of the MLF may lead to deeper involvement in municipal finances. The initial announcement of the MLF in April immediately stabilized a $4 trillion market that saw AAA yields jump from just under 1% to just under 3% in a matter of days.\nPolitico pointed to House Ways & Means Chair Richard Neal as a catalyst for more intervention in munis. Even before the novel coronavirus, the former mayor of Springfield, Massachusetts, had established himself as a supporter of municipal bonds. However, aid may instead come from traditional fiscal policy routes should the Fed hold firm on its new eligibility thresholds. Neal represents Springfield and its enclosing county Hampden, each of which just miss these newest MLF population thresholds.\nThus far, Illinois is the only state to announce its participation in the MLF, issuing $1.2 billion in 12-month maturities at 3.82%.The MLF became operational on May 26."
  },
  {
    "objectID": "posts/2020-11-13-small-economies-face-mobile-payments/index.html",
    "href": "posts/2020-11-13-small-economies-face-mobile-payments/index.html",
    "title": "Small economies face big mobile payments",
    "section": "",
    "text": "Bloomberg Businessweek published an article this week on the rise of mobile payments provider Zelle in Venezuela, where inflation has pushed the price of a caf√© con leche to 890,000 bolivars. Zelle, a money transfer service owned by large US banks, is at first glance an unlikely actor in this story. Why would Venezuelans embrace a proxy of American financial power? The article argues that Zelle‚Äôs dollars offer hygienic access to a stable currency. Before covid, the Caracas-based consultancy Ecoanal√≠tica estimated that only 15% of citizens have stable access to dollars. Zelle simply sends dollars around US banks, circumventing the need for physical currency in a dollar-strapped, pandemic-addled country.\nBut, as people use a currency less, its legitimacy drops: those who accept bolivars for dollars demand higher and higher rates in return; Zelle (and other mobile payments providers with access to dollars) facilitate dollar spot trading for the masses. Venezuelans are effectively hastening the bolivar‚Äôs demise. Now, it is important to keep in mind that consumer transactions rarely add up to much when compared to large-value settlements by banks and governments, but the effect is there. Bloomberg reported that some XX% of Venezuelans maintain a foreign bank account, and a straw poll of Caracas retailers indicates that YY% accept Zelle.\nMobile payment providers have democratized and sped monetary policy in Venezuela. One would expect Nicolas Maduro, Venezuela‚Äôs anti-American president, to curse as the national currency slips away in favor of the dollar. However, Maduro welcomed this development. &gt;‚ÄúI don‚Äôt see it as a bad thing‚Äâ‚Ä¶‚Äâthis process that they call ‚Äòdollarization,‚Äô‚Äù he said during a November 2019 TV broadcast, adding, ‚Äúthank God it exists!‚Äù\nWe have here the rare phenomenon that a government accepts the instability of its currency without providing its own alternative. Transactions bewteen Venezuelan governments and officials still legally proceed in bolivars‚ÄîTrump administration sanctions have US accounts connected to thousands of officials‚Äîbut an estimated 60% of transactions in the country use greenbacks now. This modifies the vision of monetary regulation articulated by Karl Polanyi in The Great Transformation. Polanyi saw the welfare state, land reform, and the fiats that valued currencies as scenes in the second act of a great ‚Äòdouble movement‚Äô.\nIn general, a double movement is the powerful destabilization of area thought to be fixed, followed by the frenzied creation of a mechanism to regulate that space. Specifically, destabilizations in land, labor, and money wrought by the rise of the market economy in Second Industrial Revolution‚Äìera Britain attracted Polanyi. The Great Transformation made important contributions to anthropology‚Äîdetailing how the market economy produced a mental shift not unlike Weber‚Äôs process of rationalization‚Äîbut let‚Äôs stay fixed to his account of the birth of monetary regulation. Essentially, classic liberals agreed into existence the intellectual atmosphere necessary for economic liberalization: &gt;What made economic liberalism an irresistible force was this congruence of opinion between diametrically opposed outlooks; for what the ultrareformer Bentham and the ultratraditionalist Burke equally approved of automatically took on the character of self-evidence.1\nYet, to create a truly laissez-faire system is to create ‚Äòfictitious commodities‚Äô, to subject things which cannot fluctuate like commodities to the same market discipline. The chaos of the Second Industrial Revolution ensued, pulling people into the conditions Engels described in Manchester, scuffing up the land with mining tracts, and eroding people‚Äôs sense of stability by inflation and deflation. After all the careful treatises, pamphlets, and speeches, people did not want to deal with the self-adjusting market. Where ‚ÄúLaissez-faire was planned, planning was not.‚Äù2\nHis account lands most viscerally when he discusses the welfare policies made for people, but it extends to money as well: &gt;central banking and the management of the monetary system were needed to keep manufactures and other productive enterprises safe from the harm involved in the commodity fiction as applied to money. Paradoxically enough, not human beings and natural resources only but also the organization of capitalistic production itself had to be sheltered from the devastating effects of a self-regulating market.3 To reduce it a great deal, businesses like stability, but a market-oriented approach to money actually involves a great deal of instability once foreign exchange is added to the equation. In the Second Industrial Revolution, the source of instability, the commodity that was so fictional, was the gold standard.4 Some economic historians point to the gold standard‚Äôs breakdown, and then to economies‚Äô subsequent deflations and tightenings of credit as the trigger of the Great Depression. Polanyi did too, and the connection with the greatest modern economic catastrophe served his purposes in The Great Transformation. As a result of the Depression, nations adopted ‚Äòtoken currency‚Äô, which today we still have.\nUp to this point, Polanyi‚Äôs relatively ancient history could also describe Venezuela‚Äôs relatively recent. In brief, a commodity-backed money (in this case, oil) wreaks terrible damage on business and the populace by its wild gyrations. In this case, the terror is inflation instead of deflation, but damage is still inflicted‚Äîwho the winners and losers are is reversed, if for only a short while. But Maduro‚Äôs approval of the dollarization distinguishes now from then. Polanyi writes of a resurgent nationalism that takes a country‚Äôs currency as its emblem: &gt;the new nationalism was the corollary of the new internationalism. [‚Ä¶] The national token currency was the certain safeguard of this relative security since it allowed the central bank to act as a buffer between the internal and the external economy.5\nIn contrast, Maduro relinquishes nationalism for the external economy. Is this internationalism? American hegemony? It depends if you look at the dollar simply as the reserve currency of the world, or tack on its role in US global power, tending toward hegemony. Regardless of the particular label, Maduro‚Äôs declaration was incongruous with his nationalism in other spheres of policy. I would interpret this to agree with Bloomberg‚Äôs take that ‚ÄúVenezuelans‚Äô embrace of digital money is less a matter of choice than of necessity‚Äù, but that would seem to argue that Venezuela‚Äôs troubles tended inevitably to acquiescence to the dollar. Instead, I want to emphasize that different governments react in different ways depending on their priority. Despite Maduro‚Äôs dictatorial tendencies (and they can‚Äôt be ironed over), I think his admission grasps the reality of Venezuela‚Äôs situation and a possible ‚Äúescape valve‚Äù (his words) for the country.\nI ascribe agency, and‚Äîtherefore‚Äîintent to Maduro‚Äôs admission because another country facesa very similar situtation, but has dealt with it much differently. For me the demonstration of two different approaches to the same problem is enough to poke holes in any account of the situation that claims inevitability. However, this line of reasoning must be weighed against the fact that inflation is not (currently) as bad in this country. Zimbabwe has played host to the world‚Äôs worst inflation for most of the new millennium, but the recent figures total in the hundreds of percent, not tens of thousands. In July, the president accused the CEO of Econet, Zimbabwe‚Äôs largest mobile payments operator, with conspiring to undermine the country‚Äôs dollar peg. This accusation is made all the more serious with the fact that about 90% of transactions take place through Econet. It looks as though the process differs slightly from that in Venezuela‚Äîinstead of sending dollars through US bank accounts, Zimbabweans have physical dollars (or assets denominated in dollars) and trade Zollars‚Äîbut the idea is the same.\nThat this is Zimbabwe‚Äôs second attempt to ditch the (US) dollar in spite of national disfavour shows the national mindset at work here. These two cases remind us how attractive a national currency can be, but also how tragically impractical. Mobile payment providers facilitate and hasten old instabilities, leaving little room for fixed-rate currencies to thrive. It‚Äôs unclear whether Polanyi‚Äôs conception of states strong enough to rein in their markets applied when he wrote The Great Transformation, but it certainly does not now. And you can bet that central banks are looking to Zimbabwe and Venezuela with anxiety, even though this scale of collapse requires more than just disruptive mobile payments. I believe this fear is why regulators have thrown bureaucratic wrenches into the last-minute developments of promising startups and Facebook/WhatsApp‚Äôs Libra.6"
  },
  {
    "objectID": "posts/2020-11-13-small-economies-face-mobile-payments/index.html#footnotes",
    "href": "posts/2020-11-13-small-economies-face-mobile-payments/index.html#footnotes",
    "title": "Small economies face big mobile payments",
    "section": "Footnotes",
    "text": "Footnotes\n\n\n‚ÄúPolitical Economy and the Discovery of Society‚Äù. All chapters from The still-copyrighted Great Transformation.‚Ü©Ô∏é\n‚ÄúThe Birth of the Liberal Creed‚Äù‚Ü©Ô∏é\n‚ÄúMan, Nature, and Productive Organization‚Äù‚Ü©Ô∏é\nTo illustrate its fictitiousness, I‚Äôll add a fact I read in some children‚Äôs encyclopedia many years ago: all the gold in the world would only build the first 55 feet or so of the Washington Monument, and no mother lodes have been found since then. It is a remarkably rare material, and one subject now to such investment.‚Ü©Ô∏é\n‚ÄúMarket and Productive Organization‚Äù‚Ü©Ô∏é\nAs a side note, I think Ant Group‚Äôs halted IPO is a very different beast than the India and Brazil injunctions against Libra. China is under no threat from Ant or any of its businesses, for that matter.‚Ü©Ô∏é"
  },
  {
    "objectID": "posts/2019-12-25-just-mercy-review/index.html",
    "href": "posts/2019-12-25-just-mercy-review/index.html",
    "title": "Just Mercy ‚Äì a Legal Drama Adaptation That Fails to Do Justice to a Compelling Memoir",
    "section": "",
    "text": "Edit 1/20/2020: check out this article at Pop Culture Bento!\nJust Mercy‚Äôs most powerful scenes concern three different people condemned to death, all legally represented by Bryan Stevenson (Michael B. Jordan). These scenes punctuate the film, as we witness Stevenson‚Äôs growth from timid law student to successful advocate for those on death row. The strengths of Just Mercy‚Äîthe eponymous memoir by Stevenson‚Äîlie in its plot and the range of lives contained within. But while the movie safely navigates the politics of portraying incarceration and gross injustice, it runs aground by bashing its viewership over the head by over-telling a story well shown.\nWe see, first, the timid intern some 800-miles south of Harvard to meet a man his own age on death row. We see, then, the execution of Herb Richardson, a veteran who developed PTSD during Vietnam and proceeded to detonate a bomb on a lover‚Äôs porch. Finally, we see Walter McMillan (Jamie Foxx) run the gauntlet of police and legal implements to win freedom for a crime he did not commit, that canonic Southern Sin of murdering a white woman whilst Black. This story dominates Just Mercy, and exposes features of the legal system in Monroeville, AL (the literary and extra-literary site of To Kill a Mockingbird) that the average viewer would not believe existed in the 1980s.\nJordan cracks the ‚Äòrational‚Äô suspicions of the first two inmates, seeming both cool-headed and eager. He is at his best showing off these gifts, gifts the real Bryan Stevenson possesses, of blind understanding and unflappability. The stories of these men evoke grief and frustration without the aid of embellishment, and Just Mercy refrains admirably in their cases. And it is mostly free from fetish, a necessity that prisoner-centric films still neglect. With Walter McMillan, however, Jordan plays somewhat different.\nFor Walter McMillan, Stephenson transforms into the Atticus Finch archetype he jokes about. I had hoped for a courtroom monologue-free drama‚Äîtrue to life‚Äîbut Just Mercy just could not resist. Part of this discrepancy is a defect of the book-film transubstantiation: the book budgets roughly 10% of its pages to legal history and explaining the appeal process for Alabama death row inmates. Instead of devising some snappy montage (√† la Michael Lewis film adaptations) explaining Alabama‚Äôs criminal processing and social statics showcasing racial disparities, Just Mercy, the movie, uses Jordan and legal assistant Eva Ansley (Brie Larson) as mouthpieces. What results are dialogues where both characters tell the other what they clearly already know. Just Mercy has not caught the trend of making its viewers think, spoon-feeding plot and context at its own expense.\nMoreover, Jordan says what doesn‚Äôt need to be said. When he visits McMillan‚Äôs family, extended family, and neighbors, it‚Äôs clear that Bryan Stevenson cares, that he goes beyond to help this man and his family, that he does not indict the men he sees (legally or illegally) on death row. Jordan uses his tremendously expressive face‚Äîclenched jaws and furrowed brows, or his 500-watt smile‚Äîto summon indignation or pleasure. He could very well have been the right actor for this movie, but his script sounds trite, due to his own delivery and adjustments, or to an overzealous writer/producer.\nHonestly, I think much of Just Mercy‚Äôs shortcomings fall on director Destin Daniel Cretton, though surely the suits at Warner Bros.¬†pushed the platitudes whenever possible. I do not mind adaptations heightening the drama of a book, but they must pass a few criteria:\n\nMajor plot events represented faithfully: Here, the movie receives close to full marks. The first meeting on death row, execution, and first trial are close to perfect, but the release of Walter McMillan sees Stevenson lecturing the courtroom before judgment is passed. This is stupid as well as melodramatic; part of the book‚Äôs brilliance is its emphasis on how pedestrian structural racism and indigent defense is in the legal system.\nAdding to this mis-adaption is the portrayal of Monroeville‚Äôs prosecutor. Prosecutors have jobs, they have staffs, and they have electorates. These facts make their jobs less about justice than legal statistics and relationships with the police department. In the final 16 minutes, the prosecutor somehow turns from the patronizing careerist of the first two hours to sheepish moral man in full realization of his mistake. In reality, the state‚Äôs case was untenable. There was no uplifting realization by the white prosecutor that justice had not been served.\nThe adapted work‚Äôs environment communicated: This component is Just Mercy‚Äôs worst. The book leadens Stevenson‚Äôs journey with the twin histories of criminal prosecution and racism in America. As I mentioned before, the book resorts to chunky dialogue to explain basic facts of prosecution, but with no reference to the wider scope of these facts, no sense that these convictions happen in every jurisdiction in the United States.\nEmbellishments add to the message: I‚Äôm of two minds here. Jordan‚Äôs sermonizing belies Stevenson‚Äôs cool-headed determination. He was not Thurgood Marshall in the courtroom. But the adjustments to Walter McMillan‚Äôs incarceration were, at times, nice substitutes. Never in the book does Walter engage in a single aggressive or even energetic act. Here we see him thrashing against the human restraints that envelop him. The sense of rage, devoid in the book, is understandable.\n\nJust Mercy turns a book powerful for its facticality into something expected and over-determined. No one who reads the facts of this case would have the need to decipher, yet the all-too-familiar scenes of excessive force and righteousness of Michael B. Jordan as Bryan Stevenson are so obviously coded as to rob any viewers of their right to interpretation. The movie wins when getting out of its own way, offering the un-cinematic particularities (a scratchy record full of dread just before the electric chair) and plain humanity (Stevenson joking with his first client, about what he won‚Äôt say) of, you know, real humans. It is a poignant story of what it means for anyone with a modicum of power to remember the wrongs that have already happened instead of trying to inscribe their own story ignorant of what has come before. But check out the book instead from your local library."
  },
  {
    "objectID": "posts/2025-01-07-disassembled-in-house/index.html",
    "href": "posts/2025-01-07-disassembled-in-house/index.html",
    "title": "Disassembled In-House",
    "section": "",
    "text": "Somerville Bike Kitchen was closed last week, so I started my bike disassembly in my apartment basement, where the floors are dirty enough that I don‚Äôt mind spilling some grease on it. Shout out to my neighbor for the bike stand!\n\n\n\nMy basement workshop\n\n\nTo remind y‚Äôall, I started with this.\n\n\n\nMy bike, four years ago\n\n\nAfter four years, it started showing lots of rust (luckily, this seems limited to the surface).\n\n\n\nRust\n\n\nKeeping with my timeline, I started by removing the wheels and seatpost, simple stuff that I finished in 10 minutes between work and Claire returning.\n\n\n\nThe bike after wheel removal\n\n\nI also took the advantageous position and chillness of time to snap some detail shots. It‚Äôs these that remind me of the beauty of this bike and, ultimately, why I‚Äôm restoring it.\n\n\n\n\nCampagnolo Rally derailleur\n\n\n\n\n\nFriction shifter\n\n\n\n\n\nHuret clamp\n\n\n\nLike, this thing just reeks of style. Other internet fiends say that the Campagnolo Rally derailleur was the company‚Äôs greatest; I‚Äôm sure that‚Äôs impossible to judge but knowing this opinion has fed my bike ego. It recalls the lettering on American muscle cars and turns out to be from a great French derailleur manufacturer that was purchased by a SRAM subsidiary in the 1980s. Campagnolo must not have made clamps because this, the bottom bracket, and the handlebars are the only components on this bike that aren‚Äôt from them.\nMy basement also afforded some relative warmth while it was 16F and blowing 20mph yesterday morning. So, I donned my Reluctant Threads apron.\n\n\n\nReluctant threads apron\n\n\nAnd I continued with removing brakes and their cables from the frame. The brakes were way more torqued on than I expected and it took what felt like all my force to free them from the fork and rear bridge.\n\n\n\n\n\n\n2 key, simple pieces of advice I picked up on Reddit\n\n\n\n\nkeep the small components assembled as much as possible\nphotograph everything\n\nI appropriated some masking tape to mark where things entered the components; I‚Äôm sure future Corey will appreciate it. I want to clean and de-rust these components but unclear how I should approach it: immerse all the components in penetrating oil? bathe them in citric acid powder, which BMX riders use to keep their chrome chromed? or just take rags to everything and spray it all with de-greaser at the end? If you have a perspective on this, let me know!\n\n\nAfter they were off, I got a proper feeling for how these brakes work. The spring is surprisingly strong but their operation felt smooth:\n\n\n\nHand clamping and releasing brake\n\n\nI also took the handlebars off. Not much to say there, this was an easy operation as it‚Äôs a quill stem. After an hour, I had greasier hands,\n\n\n\nGreasy hands\n\n\na bucket of parts,\n\n\n\nBucket of parts\n\n\nand a de-braked frame.\n\n\n\nDe-braked frame\n\n\nNext up: derailleurs, chain, and fork. I need to find a good way to store these parts that will be fine getting greasy."
  },
  {
    "objectID": "posts/2020-07-01-reserve-liquidity-facilities-shift-from-advanced-economies-to-emerging-markets/index.html",
    "href": "posts/2020-07-01-reserve-liquidity-facilities-shift-from-advanced-economies-to-emerging-markets/index.html",
    "title": "Reserve liquidity facilities shift from advanced economies to emerging markets",
    "section": "",
    "text": "This post was originally published on the YPFS Systemic Risk blog\nOn June 19, the European Central Bank (ECB) joined the central banks of England, Japan, and Switzerland in scaling back the frequency of their US dollar liquidity swaps with the Federal Reserve (Fed). Central bank liquidity swap lines facilitate access to foreign capital during periods of international financial stress. While these bilateral swap operations with the Fed have slowed, the ECB announced on June 25 the establishment of the Eurosystem repo facility for central banks (EUREP). The new facility will complement the ECB‚Äôs current bilateral swap lines by allowing for less stable currencies to participate in repurchase agreements. This post summarizes the recent activity on Fed swap lines and documents the shift in currency facilities from those aimed at the sturdiest reserve institutions to those aimed at central banks with smaller stocks of dollars."
  },
  {
    "objectID": "posts/2020-07-01-reserve-liquidity-facilities-shift-from-advanced-economies-to-emerging-markets/index.html#fed-swap-lines-remain-successful",
    "href": "posts/2020-07-01-reserve-liquidity-facilities-shift-from-advanced-economies-to-emerging-markets/index.html#fed-swap-lines-remain-successful",
    "title": "Reserve liquidity facilities shift from advanced economies to emerging markets",
    "section": "Fed swap lines remain successful",
    "text": "Fed swap lines remain successful\nSince the Global Financial Crisis (GFC), the Fed has maintained unlimited swap lines with the European Union, England, Japan, Canada, and Switzerland. On March 23, it began offering daily, 7-day tenor swaps on these unlimited lines. This development came on the heels of a March 19 expansion of bilateral agreements detailed by a previous YPFS blogpost: the expanded facility would provide up to $60 billion for the banks of Australia, Brazil, South Korea, Mexico, Singapore, and Sweden, and up to $30 billion for the banks of Denmark, Norway, and New Zealand.\nDuring a dollar liquidity swap, the Fed enters into an agreement with another central bank that maintains an account at the Federal Reserve Bank of New York (FRBNY). The banks agree to perform two actions: first, the Fed‚Äôs dollars are exchanged for the foreign bank‚Äôs currency at the prevailing exchange rate; second, at some specified date in the near future, the foreign bank‚Äôs dollars are re-exchanged for their own currency at the same exchange rate as the original transaction, plus a small interest rate. The FRBNY is authorized by the Fed‚Äôs Open Market Committee under Section 14 of the Federal Reserve Act to establish swap lines, and has emphasized the benefits to American households and businesses by ‚Äùhelping to maintain the flow of credit to U.S. households and businesses by reducing risks to U.S. financial markets caused by financial stresses abroad.‚Äù\nSince the agreements peg both transactions to the same exchange rate, the Fed bears no risk that turmoil in foreign exchange markets translates to a loss of US dollars. Foreign central banks often use swap lines to get dollars that they can use to provide liquidity to domestic institutions in need of dollars. In 2007, the Fed lent money directly to US branches of European banks in addition to its heavy usage of the swap lines. The upshot of a liquidity swap was that, since the Fed‚Äôs swap was with the other central bank, it was not exposed to the risk of default by the downstream borrowing institutions; this risk was borne by the central bank, which determined who it would lend to.\nThough financial strains among countries with standing dollar swap lines have thus far been much weaker than during the GFC, the rejuvenated lines were equally effective at quelling turbulent dollar funding markets. Between March 6 and March 23, the US trade-weighted dollar index jumped to an historical high of 126.47, and posted its largest single-day percentage increase since the series was inaugurated in January 2006. With the acceleration of 7-day swaps on March 23, three days later the index subsequently posted its second largest drop since March 2009. It has not fluctuated by more than 1 point since April 7, though the index has remained higher and more volatile than recent, pre-pandemic levels.\n\n\nCode\nlibrary(tidyverse) #plotting, data wrangling\nlibrary(lubridate) #dates\n\ntradewt &lt;- fredr(series_id = \"DTWEXBGS\", units = \"pch\") #retreive percent change in daily trade-weighted US dollar index using fredr\nrecessions &lt;- read_csv(\"start, end\n2007-12-01, 2009-06-01\n2020-02-01, NA\") #add recessions from https://fredhelp.stlouisfed.org/fred/data/understanding-the-data/recession-bars/\nrecessions[nrow(recessions), 2] &lt;- Sys.Date() #update current recession with today's date\n\nggplot(tradewt) +\n  geom_line(aes(date, value), color = \"#286dc0\", show.legend = F) + #line plot of trade-weighted US dollar index\n  geom_rect(data = mutate(filter(recessions, end &gt;= min(tradewt$date)), #only include recessions ending after start of series\n                          start = if_else(start &lt; min(tradewt$date), min(tradewt$date), start)), #trim start of overhanging recession\n            aes(xmin = start, xmax = end, ymin = -Inf, ymax = Inf), #define sides of rectangle\n            fill = \"#978d85\", #Yale shading color\n            alpha = .33) + #opacity\n  scale_x_date(expand = c(0,0), date_breaks = \"2 years\", date_labels = \"%Y\") +\n  ggrepel::geom_label_repel(aes(date, value, label = datestring), data = mutate(slice_max(tradewt, order_by = abs(value), n = 6), datestring = format(date, \"%b %d\")), min.segment.length = 0, label.padding = .1, segment.alpha = .6, show.legend = F, color = \"#4a4a4a\") +\n  labs(x = NULL, y = \"Percent change\", title = \"Daily change in trade-weighted US dollar index, 2006 - 2020\", subtitle = \"Shaded areas indicate recessions, and six largest one-day swings are labeled\", caption = \"Source: Federal Reserve Board of Governors\") +\n  theme(plot.title = element_text(color = \"#00356b\", vjust = -2), plot.subtitle = element_text(color = \"#00356b\", vjust = -1), plot.caption = element_text(color = \"#4a4a4a\"), plot.margin = margin(r = 10),\n        axis.title = element_text(color = \"#222222\"), axis.text = element_text(color = \"#4a4a4a\"), axis.ticks = element_line(color = \"#222222\"),\n        panel.background = element_rect(fill = NA), panel.grid = element_line(color = \"#dddddd\"))\n\n\n\n\n\n\n\n\n\nThe speed and authority with which the Fed provides liquidity for the largest reserve currency market have bolstered the central bank‚Äôs reputation. This most recent resurgence of swap lines has led some to assert that the Fed is not only a central bank to the US, but also to the world, offering short-term emergency liquidity when central banks ‚Äì liquid in their own currency ‚Äì are strapped for US dollars. As with domestic lender-of-last-resort operations, the transactions have always been initiated by a counterparty, never by the Fed. Although swap agreements are bilateral, the US has never drawn on a currency swap line."
  },
  {
    "objectID": "posts/2020-07-01-reserve-liquidity-facilities-shift-from-advanced-economies-to-emerging-markets/index.html#focus-shifts-to-countries-with-weaker-reserves",
    "href": "posts/2020-07-01-reserve-liquidity-facilities-shift-from-advanced-economies-to-emerging-markets/index.html#focus-shifts-to-countries-with-weaker-reserves",
    "title": "Reserve liquidity facilities shift from advanced economies to emerging markets",
    "section": "Focus shifts to countries with weaker reserves",
    "text": "Focus shifts to countries with weaker reserves\nThe Fed‚Äôs deceleration of currency swaps prompted praise for the speed and scale of relief. But the facility left unresolved the plight of weaker, systemically less important currencies. Already burdened by higher interest rates on credit, countries without access to Fed swap lines saw a sharp uptick in the costs of accessing dollar funding markets, a Bank for International Settlements paper published in May found. Access to dollar funding has been exacerbated by capital outflows at rates higher than during the GFC.\nIn an attempt to provide reserves for dollar-strapped reserve banks, the Fed and ECB have each established repurchasing (repo) facilities for their currencies. The facilities work similarly to currency swap lines, providing short term liquidity and protecting against credit risk by dealing only with central banks. However, these repo facilities lie one step closer to secured loans, requiring foreign central banks to post collateral should they default on loan repurchasing. To protect against exchange rate risk, eligible collateral consists only of sovereign securities denominated in the lender‚Äôs currency. For example, the Fed‚Äôs Foreign and International Monetary Authorities (FIMA) facility ‚Äî detailed in a previous YPFS blogpost ‚Äî accepts US Treasury securities of any maturity, while the ECB‚Äôs EUREP accepts euro-denominated debt from any of its constituent states as well as the central bank itself.\nThese repo agreements allow foreign central banks to avoid dumping large amounts of sovereign bonds into illiquid markets, ensuring value for both the Fed and the foreign bank in need. But the facilities can be more limited than the swap lines due to shorter maturities and higher interest rates. The FIMA‚Äôs repo facility only offers overnight maturities. Though such maturities can be rolled over, the repo agreements contrast sharply in this regard with the swap lines, which offer up to 84-day maturities.\nAdditionally, pricing is slightly steeper in FIMA and EUREP facilities. Where Fed central bank liquidity swaps add 25 basis points to the overnight index swap (OIS), FIMA adds 25 basis points to the Interest Rate on Excess Reserves (IOER). Currently the benchmark US overnight rate, the Federal Funds rate, stands at 0.05%, with the IOER at 0.10%. These prices potentially mean that liquidity will be cheaper for emerging markets than swap lines were for Singapore, which paid 1.09% for a March swap, but more expensive than recent swaps with the Fed‚Äôs standing accounts, which have carried rates around 0.33%.\nThe ECB has yet to announce pricing for its facility, which will run until June 2021, but Turkey has been mentioned as a potential applicant. Bloomberg reported that the nation had sought talks with the Group of 20 nations for its inclusion in bilateral swap agreements. For emerging markets, the International Monetary Fund has also been very active in approving emergency fund disbursement and stand-by facilities, and has introduced the new, ‚Äúswap-like‚Äù Short-term Liquidity Line, and may be on track for support more given its still-large reserves."
  },
  {
    "objectID": "posts/2024-04-24-recursive-algorithms-with-pyspark-2/index.html",
    "href": "posts/2024-04-24-recursive-algorithms-with-pyspark-2/index.html",
    "title": "A PySpark-native way to do recursion",
    "section": "",
    "text": "In my last post, I described an example of recursive algorithms, the Fibonacci sequence, and showed that it can‚Äôt be solved with classic SQL tools like window functions. In this post, I‚Äôll explore possible solutions and demonstrate my preferred, PySpark-native approach."
  },
  {
    "objectID": "posts/2024-04-24-recursive-algorithms-with-pyspark-2/index.html#possible-solutions",
    "href": "posts/2024-04-24-recursive-algorithms-with-pyspark-2/index.html#possible-solutions",
    "title": "A PySpark-native way to do recursion",
    "section": "possible solutions",
    "text": "possible solutions\nMost answers to this problem rely on Python user-defined functions (UDFs). In Spark, a Python UDF works by: 1. creating tiny Python sessions for each row 2. converting the data from Scala/Java datatypes to Python data types 3. running the Python code 4. re-converting the data into Scala datatypes\nThe code might look like the example Python script above or it could be more concise, but either way, it needs to go through this 4-step process for each row, which makes even simple UDFs computationally expensive. Plus, adding \\(r\\) rows to a computation running on a cluster with \\(w\\) worker nodes scales the computational cost by \\(\\frac{r}{w}\\).\nOne way to speed these computations up is to use Pandas UDFs. Unlike Python UDFs, which Pandas UDFs only go through this process once per partition. So, assuming you are computing this for a bunch of grouped data, you only need to perform the 4-step process once per group. Still, there must be a way to do this without all that overhead, right?\nOne option is to use Java or Scala UDFs, which removes lots of the overhead, but of course is harder to handoff to other people who don‚Äôt know Java or Scala. With a problem more complex than the Fibonacci sequence, that might be a dealbreaker."
  },
  {
    "objectID": "posts/2024-04-24-recursive-algorithms-with-pyspark-2/index.html#my-preferred-solution",
    "href": "posts/2024-04-24-recursive-algorithms-with-pyspark-2/index.html#my-preferred-solution",
    "title": "A PySpark-native way to do recursion",
    "section": "my preferred solution",
    "text": "my preferred solution\nEnter aggregate() and array functions. You can use these methods to calculate recursive problems using only PySpark. Of course, these are compiled to Scala under the hood, so you could easily see this as an intermediate step to learning a new language, but I think seeing this method made me a more creative programmer.\nEssentially, you‚Äôll create a vector of input data and then iterate a function over that. For our Fibonacci example, this means that you‚Äôll need to create an \\(n \\times 1\\) vector within each column, so there‚Äôs a possibility of an out-of-memory error if \\(n\\) is big enough.\nLet‚Äôs start with a new data frame and go from there:\n\nimport pyspark.sql.functions as f\nimport pyspark.sql.types as t\nfrom pyspark.sql import DataFrame, SparkSession\n\nspark = SparkSession.builder.getOrCreate()\n\ndf = spark.createDataFrame([(1, ), (2, ), (3, ), (4, ), (5, )], (\"n\", ))\n\nWith row numbers assigned to each row, we can create base vectors\n\ndf = (\n  df.agg(\n    f.sort_array(f.collect_set(\"n\")).alias(\"BaseArray\")\n  )\n)\n\ndf.show()\n\n+---------------+\n|      BaseArray|\n+---------------+\n|[1, 2, 3, 4, 5]|\n+---------------+\n\n\n\nNow, we can start working with aggregate. Let‚Äôs look at the definition of this function:\n\ndef aggregate(\n    col: ColumnOrName,\n    initialValue: ColumnOrName,\n    merge: (Column, Column) -&gt; Column,\n    finish: ((Column) -&gt; Column) | None = None\n) -&gt; Column\n\nThis function works like a local accumulator, allowing each row to iterate over the col‚ÄîBaseArray in this case‚Äîand, crucially, carry over values between iteration steps.\ninitialValue is crucial for the Fibonacci sequence because it lets us set fibonacci(0) and fibonacci(1):\n\nf.struct(\n  f.lit(0).alias(\"nMinus2\"),\n  f.lit(1).alias(\"nMinus1\")\n)\n\nmerge does the heavy lifting for this function, choosing how to get from one step to the other. One annoying necessity is that it must operate on PySpark columns using PySpark column functions. That means we can‚Äôt write many functions using the native Python library and operators, but for the Fibonacci sequence it shouldn‚Äôt be a problem.\n\ndef fib(previous, current):\n  n_2 = previous.nMinus1\n  n_1 = previous.nMinus1 + previous.nMinus2\n  return f.struct(n_2.alias(\"nMinus2\"), n_1.alias(\"nMinus1\"))\n\nLast, finish requires another function to extract the final value. Since we only want the last value to calculate the fibonacci, this is very straightforward:\n\nlambda x: x.nMinus1"
  },
  {
    "objectID": "posts/2024-04-24-recursive-algorithms-with-pyspark-2/index.html#tldr",
    "href": "posts/2024-04-24-recursive-algorithms-with-pyspark-2/index.html#tldr",
    "title": "A PySpark-native way to do recursion",
    "section": "tl;dr",
    "text": "tl;dr\nWe can perform recursive algorithms using only native PySpark. This let‚Äôs us expand the types of problems we can solve while: 1. avoid the overhead associated with Python and Pandas UDFs 2. not assuming our collborators know any other languages\nI demonstrated a classic recursive problem, the Fibonacci sequence, but the same approach will work for lots of harder problems. For instance, how would you implement a Poisson CDF up to the value \\(k\\)?\n\\[\nCDF(k) = e^{-\\lambda}\\sum_{j=1}^{k}\\frac{k^j}{j!}\n\\]\nfor \\(k = {0, 1, 2, \\dots}\\)\nHint: start by repeating \\(e^{-\\lambda}\\) in a \\(k \\times 1\\) array."
  },
  {
    "objectID": "posts/2020-12-07-how-long-do-actors-have-left/index.html",
    "href": "posts/2020-12-07-how-long-do-actors-have-left/index.html",
    "title": "How long do actors have left?",
    "section": "",
    "text": "My friend Avital wrote a great essay last year about an Instagram influencer. The publication she released it has, unfortunately, flopped, but I will give the gist. Lil Miquela‚Äôs 2.9 million followers pale in comparison to the platform‚Äôs biggest stars, but she has something they do not: an endless future. Her computer-generated skin will never age, her fun setting will never be burdened by kids or sickness or hardship.\nThe essay asks why, among the Zoomer clamor for authenticity, so many follow Lil Miquela‚Äôs ‚Äúdoings‚Äù. Avital makes the obligatory genuflections toward the fact that nobody is doing real things on Instagram before digging into this issue that makes so quaint the normal Social Media is Artifice problem.1"
  },
  {
    "objectID": "posts/2020-12-07-how-long-do-actors-have-left/index.html#unnecessary-fork-that-may-interest-those-who-have-not-read-jean-baudrillard",
    "href": "posts/2020-12-07-how-long-do-actors-have-left/index.html#unnecessary-fork-that-may-interest-those-who-have-not-read-jean-baudrillard",
    "title": "How long do actors have left?",
    "section": "Unnecessary fork that may interest those who have not read Jean Baudrillard",
    "text": "Unnecessary fork that may interest those who have not read Jean Baudrillard\nShe takes Jean Baudrillard as her starting point, skip down two paragraphs to , Baudrillard who wrote in reference to Jorge Luis Borges‚Äô one-paragraph short story, ‚ÄúOn Exactitude in Science‚Äù, translated by Andrew Hurley:\n\n‚Ä¶In that Empire, the Art of Cartography attained such Perfection that the map of a single Province occupied the entirety of a City, and the map of the Empire, the entirety of a Province. In time, those Unconscionable Maps no longer satisfied, and the Cartographers Guilds struck a Map of the Empire whose size was that of the Empire, and which coincided point for point with it. The following Generations, who were not so fond of the Study of Cartography as their Forebears had been, saw that that vast Map was Useless, and not without some Pitilessness was it, that they delivered it up to the Inclemencies of Sun and Winters. In the Deserts of the West, still today, there are Tattered Ruins of that Map, inhabited by Animals and Beggars; in all the Land there is no other Relic of the Disciplines of Geography. ‚ÄîSuarez Miranda,Viajes de varones prudentes, Libro IV,Cap. XLV, Lerida, 1658\n\nBut Baudrillard inverts Borges‚Äô story. Rather than the residents abandoning the map, they will choose it, since the real world offers so many more imperfections to be disgusted at and dreams unfulfilled. After so many years, the map will win over the desert-bound kingdom. We will then be left with the ‚Äúdesert of the real‚Äù, a sort of wasteland of reality. Instead, everything is thrown to the economically productive artifice, which in this case is Lil Miquela and her cast of computer-generated characters."
  },
  {
    "objectID": "posts/2020-12-07-how-long-do-actors-have-left/index.html#back-to-the-main-branch",
    "href": "posts/2020-12-07-how-long-do-actors-have-left/index.html#back-to-the-main-branch",
    "title": "How long do actors have left?",
    "section": "Back to the main branch",
    "text": "Back to the main branch\nComing at this from a background in movies, however, I‚Äôm interested what impact CGI talent will have on the movie industry. It occurs to me that the actor-studio relations, which have been stable since United Artists was founded in 1919, may break apart again. Then, studios controlled actors through exclusive deals and were able to pressure talent in their off-screen lives to a greater extent than today. Avital quotes a marketing officer for an influencer management company to explain this makes so much business sense for studios:\n\nWhen you‚Äôre using regular influencers you have all the inherent risks of people living their lives; people can get DUI‚Äôs, get arrested, say non PC things. You‚Äôll always have that risk. With CGI influencers you‚Äôll have a markedly better chance of that not happening.\n\nThe richest studios will be able to purchase better CGI, better ranges of motion, etc, and each successful studio will succeed by insulating itself for years (decades?) with its own signature characters, the way Disney has with its animated stars. The studios will also be able to co-opt new politics quickly, to commodify the moment with ease.\nOf course human actors won‚Äôt be able to coexist. Taking Baudrillard seriously, we should expect the current desire for authenticity to wear off at some point as viewers accept and expect computers to do the talking as they do the exploding now. One upshot is that the incredibly beautiful star may fade (though its place will be taken by even less credible pixels) and famous human talent, to the extent it still resides in one person, will be a rangy voice or‚Äîif motion capture remains viable against pure illustration‚Äîan emotive face. Even though it is not linear, specialization happens whenever new technologies are adopted:\n\nthe introduction of cinema made obsolete the need for thousands of local theater actors who could deliver lines\nwhen sound was added, actors again had to deliver lines, but only once\nthe decline of the musical has meant that the best actors need never dance; and [ultra-]HD emphasized skin quality [and makeup departments].\n\nIt might take a while, but Hollywood will look even more like Broadway in its reduced size and lower pay as improved CGI routinizes talent. Studios will be the big winners here. But which studios? My money‚Äôs on Disney and Dreamworks (Universal), which used terrible 2019 versions of The Lion King and Cats to test the limits of believability, but no other movie houses possess the CGI chops.\nThere are quite a few gaming companies that do, however. This would be a textbook version of a sector undervalued by establishment media (if not by Wall Street) swallowing a legacy media company whole. Besides, they have practice. In the gaming landscape, studios have always been dominant. They‚Äôve already resolved muddled through the ethics of fake people doing fake actions in front of real audiences. As more and more media companies jump into VR and Oculus gains traction, there‚Äôs an opportunity for reconvergence between games and film."
  },
  {
    "objectID": "posts/2020-12-07-how-long-do-actors-have-left/index.html#footnotes",
    "href": "posts/2020-12-07-how-long-do-actors-have-left/index.html#footnotes",
    "title": "How long do actors have left?",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nThe point of this piece is not to challenge Baudrillard. Even though we acknowledge and have learned from his book, that does not mean we can effectively combat it. His ephigraph, from Ecclesiastes, still rings true: ‚ÄúThe simulacrum [that Lil Miquela is the faker] is never that which conceals the truth [that human Instagrammers are real]‚Äîit is the truth which conceals that there is none [both are fake]. The simulacrum is true.‚Äù‚Ü©Ô∏é"
  },
  {
    "objectID": "posts/2022-04-21-farmington-bike-century/index.html",
    "href": "posts/2022-04-21-farmington-bike-century/index.html",
    "title": "Farmington Canal Trail Bike Century",
    "section": "",
    "text": "I learned to ride a bike just before I moved to New Haven. Living in a city, abandoning my boring, dangerous, radio-less car seemed like a great statement to make about myself and the world I wanted to see. Unfortunately, Amtrak is expensive and getting to the White Mountains is pretty hard without a car.\nStill, I became the cyclist I hoped to be: if the roads are dry, I bike. I‚Äôve assembled the lobster gloves, under-helmet hats, and merino wool that make windchills in the single digits tolerable. And I try to limit my car trips to groceries and Boston (where the ol‚Äô partner lives). But more than a statement about my identity, I like to bike because it gives me joy that I missed out on in childhood.\nMoreover, life in New Haven got a lot better when I found the Farmington Canal Trail in the covid summer of 2020. Running 65 miles from New Haven to Northampton, the trail is a piece of functional history; a railroad and, before that, a canal, a few historical locks still line its sides. I‚Äôd taken the trail on a cocxyx-shattering 46-mile ride last year, but never ventured past Southington, CT, where the trail peters out and cyclists must brave the road to catch the northern section up to Massachussetts. I nearly passed out that day from low energy, but it didn‚Äôt diminish my goal to one day cycle the whole thing.\nI decided to add a bunch and make it an even 100 miles‚Äîa proper century‚Äîto satisfy my list-obsessed brain. And to make it easier on myself, I decided to stop along the route often, to stretch and enjoy the delights of New England. Weirdly, not a whole lot of online types seem to have done this route from New Haven, so I‚Äôm sharing my journey here."
  },
  {
    "objectID": "posts/2022-04-21-farmington-bike-century/index.html#route",
    "href": "posts/2022-04-21-farmington-bike-century/index.html#route",
    "title": "Farmington Canal Trail Bike Century",
    "section": "Route",
    "text": "Route\nHelen Hadley Hall, the [current] southern terminus, to Westfield is 65 miles, leaving 35 miles of choices for the route-setter. The 5-6 mile Farmington River Trail spur was an easy choice to make. It cuts through the charming towns of Collinsville and Canton, and gives the cyclists quaint views of a fast-moving river.\nOn the Massachussetts end, cyclists are confronted with the paved end of the trail in Westfield, short of the original canal. We had debated continuing to Northampton, and the Norwottuck Rail Trail, before getting a friend with a bike rack to drive us to the Springfield Amtrak station, but it was too hard to coordinate. It was disappointing to miss this because Northampton has a great beer and food culture, and connecting rail trail would have kept us in pastoral surrounds and off roads for longer. We ultimately decided to make a u-turn at Westfield, hang a left at Simsbury, and bike to Hartford, where we caught the train.\n\n\n\n\n\n\nA note about trains\n\n\n\nCycling up to Northampton and then taking a u-turn back to Springfield could have worked if the train schedules aligned. However, CTrail only ran1 two trains from Springfield, one at 5:30p and one at 9:45p, so if you miss one you‚Äôre stuck until dark.\nEnding in Hartford was a much more robust option, even if it sacrificed a bit of beauty and some safety; both CTrail and Amtrak serve the Hartford‚ÄìNew Haven route more frequently (in fact, all trains that run from Northampton stop at Hartford) and, when we went, both 4p and 5:45p CTrail trains served New Haven. Using CTrail was important because: 1. They don‚Äôt cap the number of bikes aboard 2. Bikes ride free 3. Ticket prices don‚Äôt fluctuate These features gave us flexbility to miss one train and take the next.\n\n\nThis route involved 80% paved trail, 3% cinder/packed dirt/gravel trail, 15% sharrow roads, and 2% roads with bike lanes or large shoulders. I felt uneasy on the sharrow roads because cars were going 50 or 60mph around us, though this part of Connecticut is accustomed to bike traffic. A 1 mile section between the Southern and Northern sections of the trail was straight up not fun‚Äî3 lanes of traffic, constant turnoffs for businesses, people entering the interstate, several stoplights, and glass all over the roadway‚Äîand, to make it worse, we had to make a left turn out of that street. And the last 9 miles into Hartford are all on roads; the shoulder starts big (bigger than a bike lane), which you will need for the 300ft climb over Talcott Mountain. You are rewarded by an equally long descent, which we sent at 40mph, and rolling hills that gradually drop you 450ft. Here, the shoulder narrows considerably, to a width of 2ft at many points. We averaged 20-25mph there, and the road is well-paved with little debris, but I was on high alert nonetheless.\nLuckily, I had plenty of bandwidth to stay alert on these sections because of all the carefree miles. After Hamden, there‚Äôs probably 10 cumulative miles of bumpy trail. Being the route of an historical canal, it‚Äôs unbelievably flat. There are no sections on the trail that require climbing a grade higher than 2% for more than 1 minute."
  },
  {
    "objectID": "posts/2022-04-21-farmington-bike-century/index.html#prep",
    "href": "posts/2022-04-21-farmington-bike-century/index.html#prep",
    "title": "Farmington Canal Trail Bike Century",
    "section": "Prep",
    "text": "Prep\nI ate a ton and drank no alcohol for the 4 days leading up to this ride. I rested the day before, but otherwise didn‚Äôt exercise any differently than usual. I continued biking to work 3-4 days a week. And, maybe a month ago, I rode 20 miles? In any case, my last proper long ride was the 46-miler last year. I think this is actually quite an important difference between me and people who pull out their bike once a month, but it shows you how accessible 100 miles can be."
  },
  {
    "objectID": "posts/2022-04-21-farmington-bike-century/index.html#stops",
    "href": "posts/2022-04-21-farmington-bike-century/index.html#stops",
    "title": "Farmington Canal Trail Bike Century",
    "section": "Stops",
    "text": "Stops\nDespite my grand ambitions of breweries and fine dining, we only stopped twice for more than 10 minutes, at Red‚Äôs Caf√© in Southwick, MA and Janik‚Äôs Pierogi Caf√© in Westfield. I‚Äôm pretty ambivalent about Red‚Äôs, but huge on Janik‚Äôs. Red‚Äôs advertised as being bike friendly, which is always nice. They have beautiful floors yet somehow don‚Äôt care about all the bike shoes coming in. But, their espresso was sub-sub-par; I bought a great croissant from them, but one croissant a caf√© does not make.\nJanik‚Äôs was not super high on us bringing our bikes in, but I think the purveyor saw the empty restaurant and re-thought her strategy. I think they could do well advertising for bikers because they‚Äôre no more than 200ft from the trail (also their floors aren‚Äôt anything special). Moreover, their pierogis are filling and their smoothies refreshing. My coworker, who joined me on the ride, bought some cute Polish tchotchkes that he could stick in his frame bag.\nWe stopped to pee a lot and I recommend thinking outside those, where you‚Äôll be rewarded with fisher spots down by the river, beautiful wooded meadows, etc. To poop, your options are Cheshire, which is 14 miles in, or a restaurant, unless Shallow Brook State Park (~ 45 miles up) opens their restrooms. I felt that there must be something in Simsbury, since the rest of the bike infrastructure was so great, but we couldn‚Äôt spot anything from the trail. If this is true, it‚Äôs a big oversight."
  },
  {
    "objectID": "posts/2022-04-21-farmington-bike-century/index.html#gear",
    "href": "posts/2022-04-21-farmington-bike-century/index.html#gear",
    "title": "Farmington Canal Trail Bike Century",
    "section": "Gear",
    "text": "Gear\nI try to resist bike gear as much as possible. Every piece is expensive and so specialized that I usually can‚Äôt use it for more than one function. If that‚Äôs you, then borrow, borrow, borrow! At the very least you‚Äôll learn what is useful and what‚Äôs not.\nI took the following: * saddle bag + spare tube + tire levers + patch kit + phone + ID + money + mask + wireless earbuds * frame + squeezable water bottle + pedal clips * me + jersey + arm warmers + biking jacket + biking sunglasses + bib shorts + windproof gloves + helmet!\nMy friend added: * frame pump * phone mount, which we needed for directions on the road sections\nOf these, I purchased clips ($5 used), a helmet ($4 used, though not sure a used helmet is ever a good purchase), and everything in my saddle bag (~$40 for the biking-specific stuff, all new, but you should always have this on hand), and everything else I borrowed from cyclist/triathlon friends. Find these friends. I cannot imagine doing this ride without a squeezable water bottle (don‚Äôt have to stop), a jersey (accessible pockets), arm warmers/jacket (it was 45F when we started), or shorts with chamois padding (take one ride, and you‚Äôll understand). In fact, I‚Äôm thinking of buying all these after that ride. I also can‚Äôt imagine not having clips. While my friend was able to really pull on his clipless pedals, I just had the ability to grind away or bomb down hills without worrying my feet would fly off. You can add pedals on to a bike in about 10 minutes, so you can take them off when you‚Äôre going for a joyride.\nThe only item I would not have brought again was the earbuds. Talk to your friend! Listen to nature! Think!"
  },
  {
    "objectID": "posts/2022-04-21-farmington-bike-century/index.html#review",
    "href": "posts/2022-04-21-farmington-bike-century/index.html#review",
    "title": "Farmington Canal Trail Bike Century",
    "section": "Review",
    "text": "Review\nThis ride was a blast, and I think the route we chose was optimal for unsupported cyclists starting in New Haven. I spent considerable amounts of time riding without my hands, and that‚Äôs how it should be. We saw people out for morning jogs, elderly folk on their mid-day walks, ducks chilling in the water, and many people riding (though none of them passed us :D). Surprisingly, there are several bridges that rise 50ft above riverways and offer really cool views that I rarely get while biking.\nAs for the physical task of biking 100 miles, I couldn‚Äôt imagine it being easier. I felt as good at 95 miles as I did at 45 miles. In large part, I credit the flatness and the chamois protecting my nether regions, but I also have to think it was the prep. I almost passed out last spring after 45 miles, and I ended my century full.\nI can totally see myself doing this again, though likely somehwere in Massachussetts! I loved the point-to-point and train aspect of this trip and want to find more routes that allow it, because it eliminates the hassle of driving to and from the end, the boredom of an out-and-back, and the danger of a loop route. On the other hand, I can‚Äôt see myself doing the Cape Cod route, because of the wind. We faced moderate wind throughout and it was very annoying."
  },
  {
    "objectID": "posts/2022-04-21-farmington-bike-century/index.html#dos-and-donts",
    "href": "posts/2022-04-21-farmington-bike-century/index.html#dos-and-donts",
    "title": "Farmington Canal Trail Bike Century",
    "section": "Dos and Don‚Äôts",
    "text": "Dos and Don‚Äôts\nDo * check your bike‚Äôs brake positioning, gears, and general operation before riding * bring clif bars and other sources of sugar * stop when you see something cool * refill whenever you see a fountain * be flexible and pick a great day (ours was sunny the whole day and the flowers were blooming) * apply sunscreen * take the train\nDon‚Äôt * stress about water, there are plenty of fountains"
  },
  {
    "objectID": "posts/2022-04-21-farmington-bike-century/index.html#footnotes",
    "href": "posts/2022-04-21-farmington-bike-century/index.html#footnotes",
    "title": "Farmington Canal Trail Bike Century",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nCheck the schedules, because they very well may have changed; ours did two days before we had planned to go.‚Ü©Ô∏é"
  },
  {
    "objectID": "posts/2019-08-27-vertigo-1958/index.html",
    "href": "posts/2019-08-27-vertigo-1958/index.html",
    "title": "Distortion in Vertigo (1958)",
    "section": "",
    "text": "Edit 10/20/2019: check this article out at Pop Culture Bento!\nHitchcock‚Äôs cinematographic style changes with each script and year in which he immerses himself, unlike the storybook qualities of Wes Anderson or the placid Drops dripped of Andrei Tarkovsky. Vertigo, at the dizzying heights of Hitchcock‚Äôs mastery, leads us into John Ferguson‚Äôs (James Stewart) mind‚Äîdistorted by the lethal, dozen-story fall of a partner trying to save Ferguson‚Äîby forcing us into cramped spaces and mocking our spatial judgment. I argue that in doing so, Hitchcock forces viewers to understand the disorientation and claustrophobia that Ferguson so clearly feels. In doing so, Hitchcock makes reasonable the otherwise unreasonable male gaze of Ferguson and, by association, the effects that gaze causes, though it‚Äôs unclear whether it serves to morally justify that gaze. So, in-movie, Hitchcock uses film technique to warp what would otherwise be a black-and-white judgment about Ferguson‚Äôs behavior towards Judy Barton (Kim Novak). Out-of-movie, I finally make the claim that this in-movie phenomenon critiques white American masculinity‚Äôs treatment of the Other.\nMuch of this analysis was impossible for me until I considered David Lynch‚Äôs Mulholland Drive‚Äîthere were too many motifs in Vertigo to grab a hold of! Hitchcock employs a contrasting color palette, his signature(ly disturbing) perplexion with blonde women, and an unforgettable break in narrative. Mulholland offers those motifs amped up to surrealistic proportions, with color palettes at near antagonistic levels, the blondes shining ever more platinum, though its narrative break is difficult to pinpoint. Connecting Mulholland Drive and Vertigo makes the interpretation of Hitchcock‚Äôs film no easier, but facilitates a shift in mindset that rendered Vertigo much more interpretable.\nI mean this: Lynch is enigmatic as hell, but he continues to give interviews. In these interviews, he surrenders much of his creativity to what he terms ‚Äúdream-logic‚Äù, and it stands out immediately. Dream-logic connects two objects despite their inconsistencies according to logic-logic. Such an approach finds its Western roots entirely recent, coming primarily out of Sigmund Freud‚Äôs Interpretation of Dreams. Its epistemology is usually visual in [Lynch‚Äôs] movies, though connections via homonym or punnery are entirely within the bounds of Freudian analysis. While a novelty in 2001 Mulholland Drive premiered, 1958 saw psychoanalysis at its peak of influence. This rise crashed into Hitchcock‚Äôs prior work with film noir, convoluted plots that often involved damaged detectives and female subjects vulnerable physically and mentally.\nVertigo synthesizes these two strands. Kim Novak‚Äôs characters‚Äîone before, one after the narrative break‚Äîvie for their freedom against their supposed history. In classic Hitchcock fashion, Vertigo can be summarized as a Wrong Man Film,1 where the protagonist is mistaken for a doppelg√§nger implicated in deep, deep shit. Unclassically, Vertigo‚Äôs protagonist is no man; and its protagonist(s) is/are not its central character(s). Novak‚Äôs Judy Barton is modeled (mostly) against her will after a prior, dead San Francisco socialite, Madeleine Ester,2 who herself models a [much more] prior, dead San Francisco socialite. The complicity of each in creating their respective iron cloaks of identity is uncertain, but beside the point‚ÄîFerguson‚Äôs male gaze visualizes these identities before they are realized.\nOften enough, the male gaze is analyzed as a whole, apart from its sometimes very specific set of eyes. I get at Ferguson‚Äôs specific set through Hitchcock‚Äôs motifs and cinematography. Ferguson‚Äôs gaze is set very literally in the film‚Äôs opening. Hitchcock shakes up the presumably keen vision of a detective with his partner‚Äôs death. The fall and the height and the guilt confuse themselves in Ferguson‚Äôs head to deliver a crippling case of vertigo, rendering him unproductive and idle, unmoored from his former senses of intelligence. There is nothing objective against which Ferguson can mark the damage his trauma wrought, no other detectives to which he can compare.\nHitchock will signify this psychosis slowly at first, then all at once. This chronological pattern approximates the spiral imagery so fundamental to Vertigo. Saul Bass‚Äô iconic movie poster design depicts Ferguson plunging into a line-drawn spiral. This third dimension is added, and reflects the way objects track in wide-diameter circles, speeding as the circles shrink and finally encloses the object.3 Concerned of the obsession his wife (Madeleine) exhibits for a suicidal ancestor, Ferguson‚Äôs friend sends him to play private detective. While Scottie takes logical steps to follow the wife‚Äôs story, his social isolation and physical trauma get the better of him. His steps culminate in a famous leap into the brisk San Francisco Bay, where, just before, Madeleine plunged, unconscious.\nAfter the dive in, James Ferguson can never quite get himself on solid ground. The spiral patterns begin to crop up in paintings, department stores, cemeteries, etc.\nCaught in the inner circles of a deepening plot and deepening conspiracy, Hitchcock simulates what Ferguson‚Äôs deepening psychosis4 must feel like with cinematographic trickery that encloses Ferguson‚Äôs figure, disclosing the craze lurking inside his obsessed mind. In Vertigo‚Äôs camerawork, deep focus and a 2-D plane forces our visual cortex to compare the near and far. The video below demonstrates this several times.\nThose yellow flowers that Scottie walks behind at 1:59 appear taller than him in that moment, and the obscured view traps his figure in the history, mystery, and death that linger after Novak exits the scene. Hitchcock further unsettles viewers in :17, not with the normal technique of a dolly following Ferguson and suggesting danger, but with a shot from below. This camera setting exaggerates the height and length of objects outside focal point, making the 3ft flowers equal the 6ft Ferguson in height. The mastery here is the unresolved tension between these instances of camera trickery and Hitchcock‚Äôs concurrent attention to truly large objects. The enormity of the Golden Gate bridge in one famous shot anchors the nearly surreal imagery elsewhere in Vertigo, cementing a permanent unease.\nAdd this to the geologic folding that turns ordinary car following into labyrinthine mazes:\nAnd of course, Vertigo‚Äôs signature camera effect, the zoom-in/dolly-out:\nThe spirals (2:13), the huge objects (:36), the zoom-in/dolly-out (1:20) culminate in Vertigo‚Äôs quasi-climax:\nThe scene in Mission San Juan Bautista also bears striking resemblances to the work of Italian surrealist Giorgio de Chirico. De Chirico‚Äôs work produces a sense of unease through its emphasis on the uncanny, that which is not quite and yet almost is. I like to think of a composite image, the subimages of which are all perfectly possible, though the composite somehow not being possible. In the image below, which reminds me both of the Mission and the ever-out-of-reach Madeleine, the sky is a natural color for sunsets and the long shadows possible at twilight, but the building is so bright and the shadows so stark that the image could not possibly depict a real event. Hitchcock, toeing the sur/realism line, never leaves us with quite the uncanny images or impossible geometries to prove the sort of dream-logic that Lynch would make explicit, but these scenes add up. With snaking streets, out-of-proportion objects, and color palette, builds a profile of the uncanny without ever letting us put a finger on it. Like Ferguson, the viewer is hard-pressed to resolve the visual inputs Hitchcock offers.\nThis kind of confusion invites resolution for the viewer into a reality-less vacuum. Similarly, while Ferguson is a detective, used to getting to the Bottom of Things, he can‚Äôt in this situation. All his preternatural detective powers have been duped by trauma and deceit. He is painfully aware which way is up and which down, but not much beyond that. Through all the twists and turns, Ferguson never understands (or rather, never is able to convince himself he understands) Madeleine. The history (of Madeleine, of Dolores, etc.) regresses too far for his eyes to penetrate. Unable to free himself from this convoluted plot and detached from reality, Ferguson imposes a narrative on Judy. He can‚Äôt figure out the mystery, so he might as well write his own answer. And the viewer accepts this to some degree because the story is resolution-deficient. Trapped staring through Ferguson‚Äôs gaze, escape is‚Äîdepending on the specific viewer‚Äîto some extent preferable, even when it carries such gross implications.\nThe endgame of Ferguson‚Äôs gaze is sex. The male gaze conjures scenarios‚Äîno matter how fantastical‚Äîwhere legally-consensual5 sex occurs, and relates those scenarios with the real world in order to judge their plausibility, filtering those implausible scenarios from the gazer‚Äôs strategies. A plausible scenario would mean that Ferguson has successfully dissected her, inducting her motives, and‚Äîwith them in hand‚Äîsmooth-talked her into thinking that his motives overlap with hers. But since Ferguson cannot understand Judy, because he cannot relate fantasy with reality, he resorts to the truly outrageous step of realizing those fantastical scenarios and their absurd bargaining power disparities, molding Judy so that her [perceived] motives can be induced to comport with Ferguson‚Äôs desires. This decision fabricates the conscience-satisfying, superficially-consensual sex that ends Vertigo. Horrifically, the viewers‚Äô interests are sympathetic to Ferguson‚Äôs, begging for plot resolution, but are then [hopefully] spoiled when they are confronted with the idea that their interests imply the exploitation of Judy. From beneath the comfort of 1950‚Äôs American entertainment, a violent man watches.\nIn interpreting the greater significance of Vertigo, I benefit again from viewing Hitchcock through Lynch‚Äôs rear window:\nHitchcock views America somewhat from the outside. He picks a very particular part of the US, one where the histories of people who were not British is readily apparent in depictions of frontier life (and Native death). This choice primarily works to operate on the level of uncanny history, a history that few are equipped to read completely into their own history of America, but with pieces that all can recognize. It‚Äôs therefore both easy to dissociate Ferguson‚Äôs particular position from their own, while difficult to completely disentangle the silver screen from real life. Stewart‚Äôs roles prior to Vertigo included US everyman turned Congressman in Mr.¬†Smith Goes to Washington, aviator Charles Lindbergh in The Spirit of St.¬†Louis, a cowboy in Winchester ‚Äô73, George Bailey in It‚Äôs a Wonderful Life. I cannot think of another actor who so embodied rich, moral American-ness during this time. Hitchcock then takes apart this rich, moral, American figure by finding within him obsession, formidable sexuality, and desperation. A bit of psychological trauma sets off (or reveals?) the ants in this cherry tree. More specifically, the bent of America is towards taking that which/who is not ours and assimilating them, without dealing with ‚Äúunderlying‚Äù issues.\nI find it difficult to read Hitchcock as directing in so critical a fashion as I have just suggested, given the patent fetishism of Kim Novak‚Äôs characters. In that vein, I would echo the interpretation of American men above, but stop short of believing Hitchcock to be fully critical. For him, I don‚Äôt think the discomfort of Judy‚Äôs situation outweighs his fetish for Novak. While Vertigo is a unique instance of 1950‚Äôs filmmaking for its unsettling features and early integration of psychoanalysis, I‚Äôm not convinced of any allegations of intent on Hitchcock‚Äôs part. It very well may be that old Alfred was the astute critic I have made him to be, but it could equally (in my eyes) be the case that he was utterly obsessed with Novak. To resolve Vertigo‚Äôs interpretation would be to impose, for all but the most ardent individualist, an idea of its meaning absent context of its author. While I generally distance myself from arguments about authorial intent, I do not want to foreclose the possibility of its import to other viewers."
  },
  {
    "objectID": "posts/2019-08-27-vertigo-1958/index.html#footnotes",
    "href": "posts/2019-08-27-vertigo-1958/index.html#footnotes",
    "title": "Distortion in Vertigo (1958)",
    "section": "Footnotes",
    "text": "Footnotes\n\n\ncf.¬†The Wrong Man (1956)‚Ü©Ô∏é\nNovak in ~Act 1~.‚Ü©Ô∏é\nCf. This comical image of a charity coin spinner, or how a gravity well may alter planetary orbits.‚Ü©Ô∏é\nNote that this means thoughts become detached from external reality. When we understand that no person can diagnose another from anywhere but their own viewpoint firmly in the mainstream of productive society, it becomes clear that the usage of the word ‚Äòreality‚Äô is misleading. Reality does not exist‚Äîit is judged to exist‚Äîbut always with psychology this judgment originates from the highly-educated professional class. Understanding what ‚Äòexternal reality‚Äô entails means Ferguson could both be ‚Äúdetached from external reality‚Äù and quite rational in both his and the viewers‚Äô eyes. Hitchcock plays on this truth in many films. Just because you‚Äôre paranoid doesn‚Äôt mean somebody isn‚Äôt out to get you.‚Ü©Ô∏é\nOtherwise, one would have no need for fantasizing.‚Ü©Ô∏é\nLynch, David and Rodley, Chris (2005). Lynch on Lynch (revised edition). New York: Faber and Faber. ISBN 978-0-571-22018-2.‚Ü©Ô∏é"
  },
  {
    "objectID": "posts/2024-07-07-finding-somervilles-garages/index.html",
    "href": "posts/2024-07-07-finding-somervilles-garages/index.html",
    "title": "Does Open Data Exist on Somerville‚Äôs Concrete-Block Garages?",
    "section": "",
    "text": "I started looking for data on Somerville‚Äôs concrete-block garages at the Somerville Historical Commission. These structures define Somerville for me because they seem to stick out behind or next to or beneath every house in the city. The Historical Commission assured me that the city didn‚Äôt have any data on the detached garages. Instead, they recommended I look at the Library of Congress‚Äô archive of Sanborn Fire Insurance maps.\nBefore I did that, however, I thought I‚Äôd look into the open data that the city publishes: * buildings * tax parcels * impervious surfaces"
  },
  {
    "objectID": "posts/2024-07-07-finding-somervilles-garages/index.html#buildings",
    "href": "posts/2024-07-07-finding-somervilles-garages/index.html#buildings",
    "title": "Does Open Data Exist on Somerville‚Äôs Concrete-Block Garages?",
    "section": "Buildings",
    "text": "Buildings\n\nlibrary(tidyverse)\n\n‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ\n‚úî dplyr     1.1.4     ‚úî readr     2.1.5\n‚úî forcats   1.0.0     ‚úî stringr   1.5.1\n‚úî ggplot2   3.5.1     ‚úî tibble    3.2.1\n‚úî lubridate 1.9.3     ‚úî tidyr     1.3.1\n‚úî purrr     1.0.2     \n‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ\n‚úñ dplyr::filter() masks stats::filter()\n‚úñ dplyr::lag()    masks stats::lag()\n‚Ñπ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(sf)\n\nLinking to GEOS 3.10.2, GDAL 3.4.3, PROJ 8.2.0; sf_use_s2() is TRUE\n\nlibrary(gt)\n\n\ntemp &lt;- tempfile()\ntdir &lt;- tempdir()\ndownload.file(\"https://data.somervillema.gov/download/uzdd-gyjv/application%2Fx-zip-compressed\", temp)\nunzip(temp, exdir = tdir)\nbuildings &lt;- st_read(paste0(tdir, \"/Buildings.shp\"))\n\nReading layer `Buildings' from data source `/tmp/RtmpuifDii/Buildings.shp' using driver `ESRI Shapefile'\nSimple feature collection with 16711 features and 12 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 754967.7 ymin: 2961075 xmax: 771515.1 ymax: 2977384\nProjected CRS: NAD83 / Massachusetts Mainland (ftUS)\n\n\n\nhead(buildings)\n\nSimple feature collection with 6 features and 12 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 756085.7 ymin: 2976719 xmax: 757082.8 ymax: 2977322\nProjected CRS: NAD83 / Massachusetts Mainland (ftUS)\n   AddNum             Street AddNum2 Street2 AddNum3 Street3 Name Name2 Owner\n1     600 MYSTIC VALLEY PKWY    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;\n2    2151 MYSTIC VALLEY PKWY    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;\n3     166         BOSTON AVE    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;\n4     196         BOSTON AVE    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;\n5 509-511 MYSTIC VALLEY PKWY    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;\n6 179-181         BOSTON AVE    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt; &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;\n  UpdateStat Shape_Leng Shape_Area                       geometry\n1   Complete   870.5403  41386.681 MULTIPOLYGON (((756465.9 29...\n2   Complete   820.1479  34099.297 MULTIPOLYGON (((756885.2 29...\n3   Complete   260.8333   2349.236 MULTIPOLYGON (((756357.5 29...\n4   Complete   512.5156  10876.224 MULTIPOLYGON (((756692 2976...\n5   Complete   249.6032   2143.816 MULTIPOLYGON (((756133.6 29...\n6   Complete   171.7559   1503.733 MULTIPOLYGON (((756454.4 29...\n\n\n\nplot(st_geometry(buildings[c(1:50),]))"
  },
  {
    "objectID": "posts/2024-07-07-finding-somervilles-garages/index.html#tax-parcels",
    "href": "posts/2024-07-07-finding-somervilles-garages/index.html#tax-parcels",
    "title": "Does Open Data Exist on Somerville‚Äôs Concrete-Block Garages?",
    "section": "Tax parcels",
    "text": "Tax parcels\n\ntemp &lt;- tempfile()\ntdir &lt;- tempdir()\ndownload.file(\"https://data.somervillema.gov/download/gw4w-w7cw/application%2Fx-zip-compressed\", temp)\nunzip(temp, exdir = tdir)\nparcels_data_source &lt;- paste0(tdir, \"/M274_parcels_CY23_FY24_sde.gdb\")\nst_layers(parcels_data_source)\n\nDriver: OpenFileGDB \nAvailable layers:\n  layer_name geometry_type features fields                       crs_name\n1 M274TaxPar Multi Polygon    13418     12 NAD83 / Massachusetts Mainland\n2 M274Assess            NA    20408     37                           &lt;NA&gt;\n3   M274_LUT            NA       16      4                           &lt;NA&gt;\n4 M274OthLeg Multi Polygon     1838      9 NAD83 / Massachusetts Mainland\n5 M274UC_LUT            NA      658      3                           &lt;NA&gt;\n6   M274Misc Multi Polygon       38      4 NAD83 / Massachusetts Mainland\n\n\nFirst, let‚Äôs try M274TaxPar; that‚Äôs what this dataset should be about, though I know that the assessment data can be more fully featured.\n\nparcels &lt;- st_read(parcels_data_source)\n\nMultiple layers are present in data source /tmp/RtmpuifDii/M274_parcels_CY23_FY24_sde.gdb, reading layer `M274TaxPar'.\nUse `st_layers' to list all layer names and their type in a data source.\nSet the `layer' argument in `st_read' to read a particular layer.\n\n\nWarning in CPL_read_ogr(dsn, layer, query, as.character(options), quiet, :\nautomatically selected the first layer in a data source containing more than\none.\n\n\nReading layer `M274TaxPar' from data source \n  `/tmp/RtmpuifDii/M274_parcels_CY23_FY24_sde.gdb' using driver `OpenFileGDB'\nSimple feature collection with 13418 features and 12 fields\nGeometry type: GEOMETRY\nDimension:     XY\nBounding box:  xmin: 230077.5 ymin: 902536.3 xmax: 235201.5 ymax: 907580.1\nProjected CRS: NAD83 / Massachusetts Mainland\n\nhead(parcels)\n\nSimple feature collection with 6 features and 12 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 230363.2 ymin: 907036.4 xmax: 230473.7 ymax: 907112.6\nProjected CRS: NAD83 / Massachusetts Mainland\n  SHAPE_Length SHAPE_Area MAP_PAR_ID           LOC_ID POLY_TYPE MAP_NO SOURCE\n1    114.06276   708.9892       &lt;NA&gt; F_756022_2976013       TAX      2 ASSESS\n2    174.09026  1613.4629      3-C-1 F_755832_2975949       FEE      3 ASSESS\n3    104.13431   476.8848     2-A-25 F_756054_2975989       FEE      2 ASSESS\n4    108.11048   523.7462     2-A-24 F_756086_2975965       FEE      2 ASSESS\n5     72.43331   292.9181      3-C-2 F_755906_2975924       FEE      3 ASSESS\n6     72.20770   291.5284      3-C-3 F_755937_2975898       FEE      3 ASSESS\n  PLAN_ID LAST_EDIT BND_CHK NO_MATCH TOWN_ID                          SHAPE\n1    &lt;NA&gt;  20120527    &lt;NA&gt;        N     274 MULTIPOLYGON (((230453.3 90...\n2    &lt;NA&gt;  20120527    &lt;NA&gt;        N     274 MULTIPOLYGON (((230403.4 90...\n3    &lt;NA&gt;  20120527    &lt;NA&gt;        N     274 MULTIPOLYGON (((230463.2 90...\n4    &lt;NA&gt;  20120527    &lt;NA&gt;        N     274 MULTIPOLYGON (((230473.7 90...\n5    &lt;NA&gt;  20120527    &lt;NA&gt;        N     274 MULTIPOLYGON (((230412.8 90...\n6    &lt;NA&gt;  20120527    &lt;NA&gt;        N     274 MULTIPOLYGON (((230422.2 90...\n\n\n\nplot(parcels)\n\nWarning: plotting the first 9 out of 12 attributes; use max.plot = 12 to plot\nall\n\n\n\n\n\n\n\n\n\nOkay, it looks like this contains distinct buildings, which is good. What‚Äôs not so good is that it doesn‚Äôt tell us what material a building is made of. Maybe the assessment data will tell that story:\n\nassess &lt;- st_read(parcels_data_source, layer = \"M274Assess\")\n\nReading layer `M274Assess' from data source \n  `/tmp/RtmpuifDii/M274_parcels_CY23_FY24_sde.gdb' using driver `OpenFileGDB'\n\n\nWarning: no simple feature geometries present: returning a data.frame or tbl_df\n\ngt(head(assess))\n\n\n\n\n\n\n\nPROP_ID\nLOC_ID\nBLDG_VAL\nLAND_VAL\nOTHER_VAL\nTOTAL_VAL\nFY\nLOT_SIZE\nLS_DATE\nLS_PRICE\nUSE_CODE\nSITE_ADDR\nADDR_NUM\nFULL_STR\nLOCATION\nCITY\nZIP\nOWNER1\nOWN_ADDR\nOWN_CITY\nOWN_STATE\nOWN_ZIP\nOWN_CO\nLS_BOOK\nLS_PAGE\nREG_ID\nZONING\nYEAR_BUILT\nBLD_AREA\nUNITS\nRES_AREA\nSTYLE\nSTORIES\nNUM_ROOMS\nLOT_UNITS\nCAMA_ID\nTOWN_ID\n\n\n\n\n100_A_1\nF_770865_2967765\n0\n17294100\n0\n17294100\n2024\n9.7452\nNA\n0\n972V\n0 FOLEY ST\n0\nFOLEY ST\nNA\nSOMERVILLE\nNA\nMBTA\n10 PARK PLAZA SUITE 5720\nBOSTON\nMA\n02116\nUSA\nNA\nNA\nNA\nCI\nNA\n0\n0\n0\nVacant Land\n0\n0\nA\n15118\n274\n\n\n100_A_2\nF_770888_2967247\n0\n3177700\n0\n3177700\n2024\n1.7906\nNA\n0\n920V\n0 FOLEY ST\n0\nFOLEY ST\nNA\nSOMERVILLE\nNA\nCOMM OF MASS\nONE ASHBURTON PL 15TH FL\nBOSTON\nMA\n02108\nUSA\nNA\nNA\nNA\nCI\nNA\n0\n0\n0\nVacant Land\n0\n0\nA\n15300\n274\n\n\n101_A_10\nF_769985_2966800\n604200\n1937000\n21600\n2562800\n2024\n0.4520\n20160516\n1\n3160\n53 MYSTIC AVE\n53\nMYSTIC AVE\nNA\nSOMERVILLE\nNA\nMMCDM 53-55 MYSTIC LLC\n7 DRIFTWOOD LN\nLYNNFIELD\nMA\n01940\nNA\n1489\n90\nNA\nASMD\n1900\n16248\n0\n13008\nWarehouse\n1\n0\nA\n1660\n274\n\n\n101_A_4\nF_770103_2966827\n251900\n920100\n3400\n1175400\n2024\n0.1804\n20000919\n316000\n4022\n20 NORTH UNION ST\n20\nNORTH UNION ST\nNA\nSOMERVILLE\nNA\nECO LLC\n20 ASSEMBLY SQ DRIVE\nSOMERVILLE\nMA\n02145\nUSA\n31836\n423\nNA\nASMD\n1900\n882\n0\n882\nWarehouse\n1\n0\nA\n1657\n274\n\n\n101_A_8\nF_770059_2966656\n179000\n1360000\n4100\n1543100\n2024\n0.2385\n20120321\n10\n3380\n37 MYSTIC AVE\n37\nMYSTIC AVE\nNA\nSOMERVILLE\nNA\nDAVIDIAN JAMES C & LAURA H TRS\n10 SECOND AVE\nBURLINGTON\nMA\n01803\nUSA\n58720\n598\nNA\nASMD\n1920\n1600\n0\n1168\nOffice Bldg\n1\n0\nA\n1658\n274\n\n\n101_A_9\nF_770012_2966704\n247700\n1215000\n0\n1462700\n2024\n0.1983\n19990428\n100\n3320\n45 MYSTIC AVE\n45\nMYSTIC AVE\nNA\nSOMERVILLE\nNA\nTRUST ILLUSION REALTY\n599 E. BROADWAY\nBOSTON\nMA\n02127\nUSA\n30098\n282\nNA\nASMD\n1976\n5616\n0\n4656\nService Shop\n1\n0\nA\n1659\n274\n\n\n\n\n\n\n\nJackpot. Note the grain of this file: it‚Äôs each building within each parcel. This grain is important because it allows us to distinguish (detached) garages from the main buildings in tax parcels."
  },
  {
    "objectID": "posts/2024-04-21-recursive-algorithms-with-pyspark-1/index.html",
    "href": "posts/2024-04-21-recursive-algorithms-with-pyspark-1/index.html",
    "title": "A PySpark-native way to do recursion",
    "section": "",
    "text": "I find lots of situations in my work where recursion in Spark dataframes would be useful. Recently, I needed to define a column with values that were based on each following value, recursively. That‚Äôs to say, each row could only be computed after the row before it."
  },
  {
    "objectID": "posts/2024-04-21-recursive-algorithms-with-pyspark-1/index.html#a-simple-example",
    "href": "posts/2024-04-21-recursive-algorithms-with-pyspark-1/index.html#a-simple-example",
    "title": "A PySpark-native way to do recursion",
    "section": "a simple example",
    "text": "a simple example\nTo make this example concrete, I‚Äôll use the Fibonacci sequence:\n\\[\n0, 1, 1, 2, 3, 5, 8, 11, \\dots\n\\]\nGenerating the sequence is really easy: the first 2 values are \\(0\\) and \\(1\\), respectively, and each number \\(fibonacci(n)\\) in the sequence depends on the last 2 values.\n\\[\nfibonacci(0) = 0\n\\]\n\\[\nfibonacci(1) = 1\n\\]\n\\[\nfibonacci(n) = fibonacci(n-1) + fibonacci(n-2)\n\\]\nPlus, the sequence is equally easy to code:\n\ndef fibonacci(n: int) -&gt; int:\n  if n == 0:\n    f = 0\n  elif n == 1:\n    f = 1\n  else:\n    f = fibonacci(n - 1) + fibonacci(n - 2)\n  return f\n\nRunning this code yields the same sequence we started with:\n\n[fibonacci(n) for n in range(0, 8)]\n\n[0, 1, 1, 2, 3, 5, 8, 13]"
  },
  {
    "objectID": "posts/2024-04-21-recursive-algorithms-with-pyspark-1/index.html#the-problem",
    "href": "posts/2024-04-21-recursive-algorithms-with-pyspark-1/index.html#the-problem",
    "title": "A PySpark-native way to do recursion",
    "section": "the problem",
    "text": "the problem\nBut, try to calculate this on a Spark dataframe and you‚Äôll quickly encounter a problem. The features of distributed computing‚Äîthat it calculates each row of the dataframe simultaneously‚Äîpresents as a bug here. Calculating fibonacci(n) requires calculating fibonacci(n-1) and fibonacci(n-2) and fibonacci(n-3) et cetera, and Spark just doesn‚Äôt like that.\nI use the fibonacci sequence as an example because it‚Äôs simple to code and even to calculate by hand, but the approach to calculate it in Spark is the same as much more interesting problems. For example, my current work requires me to calculate the Poisson cumulative distribution function for various values of \\(\\lambda\\) so that we can turn point forecasts of discrete variables into distrubtional forecasts at massive scale.\nSo, how can we calculate a fibonacci sequence in Spark? One thing we can‚Äôt do is use window functions. Though windowing takes into account previous values, it takes them into account statically. Try writing this using window functions and you‚Äôll immediately see a problem:\n\n(\n  df\n  .withColumn(\n    \"Fibonacci\",\n    f.lag(\"Fibonacci\").over(w.Window.orderBy(\"Fibonacci\")) + f.lag(\"Fibonacci\", offset = 2).over(w.Window.orderBy(\"Fibonacci\"))\n  )\n)\n\nEither you need to have Fibonacci already populated or you need to populate it using a non-recursive function, but what would that be? I‚Äôll explore that in my next post."
  },
  {
    "objectID": "posts/2020-02-15-david-lynch-is-toying-with-us/index.html",
    "href": "posts/2020-02-15-david-lynch-is-toying-with-us/index.html",
    "title": "David Lynch is Toying With Us",
    "section": "",
    "text": "I write this post while watching Rabbits, a work of exceptional mystery but unexceptional tension. Lynch casts two regulars‚ÄîLaura Harring and Naomi Watts‚Äîopposite one newbie‚ÄîScott Coffey‚Äîas man-sized rabbits in what appears to be the Blue Velvet apartment set. These short films, available on YouTube, trip over several of Lynch‚Äôs signature aspects: characters sing haunting songs; mundane life is treated as a social experiment; and Angelo Baldametti‚Äôs synthesizers underscore everything. Rabbits insists that we examine our own tastes and be comfortable with those answers (and inevitably unanswered questions).\nThough it offers no plot or characters that could create tension in a conventional story structure, Rabbits is seriously intriguing, and hints at larger, unobserved meanings. This intrigue is not uncommon; in fact, my theory of late has been that Lynch understands that his viewers feel the hints and the suggestions at something grander, his films all metaphysical McGuffins. In his films, characters do not look at one another‚Äîthey see, in flashy close-ups, the uncertain eyes of the other. Leading women are never conventionally pretty‚Äîthey are fantastically upbeat and implausibly platinum, hysterical results of Hollywood insecure appeal to men‚Äôs wallets. Cars do not traverse from point to point‚Äîheadlights sprint over dark, twisting roadways. These are cinematic clich√©s, style that heightens substance when it is used eagerly and genuinely.\n\n\n\nSet of Rabbits. The camera moves from this fixed position exactly once to zoom in on the telephone.\n\n\nBut there is nothing substantive about Rabbits: Lynch‚Äôs mastery over cinematic clich√© is taken to the brink, and over. In many Lynch films since Blue Velvet, characters utter non-sequiters in total deadpan; but in Rabbits, they utter nothing but non-sequiters, with no story to speak of! This Baldametti score then adds style to substanceless grunts, sounds English speakers will recognize as words but not as meaningful sentences. And with some serious hilarity, Lynch adds a sitcom applause over the entrances of each character into this one-room apartment and laughtracks after sentences like ‚ÄúIt is 7pm‚Äù and ‚ÄúI almost forgot.‚Äù These outbursts, audio cues to at-home viewers that Important or Funny happenings are taking place, mock TV shows like the Big Bang Theory, whose live audiences treat academic jargon and references to comic books as the basis for side-splitting guffaws.\nThe distance between the intelligibility of plot in Rabbits and the connotations of its audio cues emphasize the contingency of language and the ability of convention to invent meaning from nothing. It is indisputable that Baldametti‚Äôs score is ominous, alerting viewers that Something Is Happening, or that audience laughter is comedic, alerting viewers that a Joke Is Occurring. But simply because a connotation is indisputable does not make it true. None would dispute the scores ominousness or the audiences laughter because the years of TV and film that we have watch have taught us to connect certain sounds to certain moments. The work starts with children‚Äôs tales, where morality is stark and the audio cues used to reinforce a grand, unified message. By grounding these otherwise unintelligible cues in extra-cinematic morality or realistic emotions, we learn to couple low, industrial sounds with alertness, and human laughter with comedy. Rabbits attempts to elicit those emotions by only employing the signifier, while ditching the plot points signified.\n\n\n\nThe Persona-like dream sequences. Nothing says for sure these rabbits sleep, but shifts in color and a demonic face that hovers in the upper left-hand corner match dream sequences in Lynch‚Äôs other films.\n\n\nPerhaps one can argue that the words which immediately precede and follow the Persona-like interpolated dream sequences are Important, but I am not convinced. I propose that Rabbits is David Lynch toying with us. He wants to know if he can make pure entertainment, works without useful or familiar stories, but which nonetheless strap us into rollercoasters of joy, despair, nostalgia, and humor. In his other works, this plays out seamlessly. I (the viewer) achingly try to pin down the plot, and then the meaning of the narrative he created. This process feels possible, but always out-of-reach in his other works, which ditch the rabbit heads and opt for sequences of dialog that I recognize as events and narrative momentum. But in Rabbits, the dissonance between signifier and signified makes the effect clear. In Rabbits, the laughter and music become parodic, pointing at the fact that in all language, cinematic or otherwise, our grunts are intelligible for no reasons other than Pavolvian repitition and the magic fizz of neurons. Language is contingent, subject to chance mutation and adoption, and not subject to deep structures or extra-personal validity."
  },
  {
    "objectID": "posts/2021-03-13-morning-bike-ride-at-east-rock-park/index.html",
    "href": "posts/2021-03-13-morning-bike-ride-at-east-rock-park/index.html",
    "title": "Morning bike ride at East Rock Park",
    "section": "",
    "text": "Spring returned to New Haven on Thursday! A lot evaporated overnight as temperatures rose, and I was fortunate to snap these photos.\n\n\n\nThe foggy path down from East Rock Park‚Äôs ‚Äúsummit‚Äù\n\n\n\n\n\nA bike‚Äôs eye view"
  },
  {
    "objectID": "posts/2019-11-15-parasite-review/index.html",
    "href": "posts/2019-11-15-parasite-review/index.html",
    "title": "Parasite Refreshes Horror with a Hefty Dose of Social Realism",
    "section": "",
    "text": "Edit 11/15/2019: check this article out at Pop Culture Bento!\nNo review‚Äîdrawn inevitably from the vocabulary and lessons of preceding films‚Äîwill do the novelty and creativity of Bong Joon-ho‚Äôs masterpiece justice. Parasite is the best film to be released since Mad Max: Fury Road, possibly since 12 Years a Slave. Parasite‚Äôs uncanny setting makes possible its combination of comedy and horror that justifies the second act‚Äôs shocking twists. In this way, it can be seen as the Korean and class counterpart to Get Out, with more emphasis on the realism than the horror.\nThe film is set in a contemporary Metropolis: its sprawling poverty serves the hermetically-sealed homes of the super-rich. Bong dances over the border between these realms, following‚Äîclassically‚Äîthe help that enters and exits these homes daily. In the title credits, we watch a drunk piss on the English basement-home of our star family, who are unemployed and failing to keep up with the vagaries of capitalism. When an unexpected chance to tutor at the home of a super-rich family opens, our family jumps at the opportunity. This first hour is a riot. Full of wit, we see them exploit the na√Øvete of the super-rich, locating the meaning behind ‚Äòparasite‚Äô.\nBut Parasite‚Äôs trick is its information imbalances. In Act I, our family colludes to carve out for themselves a way to live. Act II see-saws back this imbalance. Events begin to happen to our family rather than by our family. Still, Bong doesn‚Äôt shroud us in a JJ Abrams information fog, with terrors leaping out from dark corners of the screen. Instead, we see how the super-rich, themselves, feed off Korea‚Äôs underclass, dictating their schedule, their names, their words. Their financial insecurity keeps them in the thrall of this rich family, and pushes them to box out any competitors. These economically-violent delights have physically-violent ends. Where many films inspect class, the invisible fence that separates rich and poor, this film inspects wealth‚Äôs first derivative, inequality: we watch in real time as those invisible fences are built. Parasite shows how the cherries that top the artisanal cakes drip with the blood of the poor."
  },
  {
    "objectID": "posts/2024-04-27-flow-state-in-running-and-coding/index.html",
    "href": "posts/2024-04-27-flow-state-in-running-and-coding/index.html",
    "title": "The flow state in running and coding",
    "section": "",
    "text": "Trail running and code writing share a concept of the flow state. Many other crafts share this concept, but I both run and code so I‚Äôll keep the focus here for today. The flow state is a level of immersion in the craft that blocks out the rest of the world, leaving the crafter focused on the craft. It‚Äôs dramatized in ads for new running shoes and movies like The Social Network, where montages show programmers glued to their screens and their keys, resulting in prodigious work output.\nI love reaching this feeling when I run on trails. I‚Äôll come back from a 2-hour run to the confusion of my partner who asks weren‚Äôt you bored? She‚Äôs referring to the fact that I‚Äôm usually bouncing around our apartment looking for mental stimulation, so 2 hours without music or a running partner seems to her like it must feel like an eternity to me.\nThe truth is, it‚Äôs hard to run on trails without breaking an ankle. The safe practice of trail running requires the brain to be working just enough that it can‚Äôt really concentrate on anything else. I end these runs feeling refreshed, like I just meditated for a while. In fact, I feel better than if I had just meditated, because I find it really hard to flick my thoughts away when I‚Äôm sitting still.\nThe flow state is a state where I don‚Äôt need to think, I can be content just doing. I strove for this feeling coding, too‚ÄîI even follow a newsletter devoted to this feeling. I felt like I achieved it frequently; like Jesse Eisenberg in The Social Network, my fingers were sprinting from key to key and I‚Äôd look up after what felt like 10 minutes to find it had been an hour.\nBut then I read The Clean Coder by Robert C. Martin. I won‚Äôt do a book review here because the internet‚Äôs littered with them, but what he had to say about this prized flow state realy changed my thinking:\n\nHere‚Äôs a little hint from someone whose been there and back: Avoid the Zone. This state of consciousness is not really hyper-productive and is certainly not infallible. It‚Äôs really just a mild meditative state in which certain rational faculties are diminished in favor of a sense of speed.\n\nHere, Martin adds something to my connection to trail running! It‚Äôs a sense of speed, not even necessarily actual speed, and it‚Äôs facilitated by a mild meditative state. For me, this flow is okay in running because I do it recreationally and not to hit specific goals or run specific routes.\n\nCode written in the Zone may come out faster, but you‚Äôll be going back to visit it more.\n\nI felt the tunnel vision this week as I sprinted to finish up a project on time. It‚Äôs a precarious feeling because you know that the normal tests haven‚Äôt been written and re-written.\nMartin does offer an antidote to this state, which I have tried. The Pomodoro Technnique is another internet subculture that you can explore yourself but, essentially, the idea is that you work 25 minutes, then take 5 off, and repeat all day. You must take the 5 minutes, even if you‚Äôre in the middle of something. This is the key to the technique: it splits up feelings of work, both good and bad, in order to set a more sustainable cadence. I‚Äôve found that, counterintuitively, the 5 minutes makes the 25 more productive. I‚Äôm less apt to check my phone because I know respite is coming.\nPlus, in an age of hyperactivity, carving deep grooves in time for one activity ends up feeling empowering in a new way. It‚Äôs different from the feeling of speed, more like a feeling of control.\nMy recommendation: give it a try; if you‚Äôre on macOS, tomatobar is an awesomely simple interface. I write my tasks in Google calendar (they always take 30 minute blocks) and then sync the timer to the tasks."
  },
  {
    "objectID": "posts/2019-11-30-jojo-rabbit-review/index.html",
    "href": "posts/2019-11-30-jojo-rabbit-review/index.html",
    "title": "Jojo Rabbit Explores Universal Notions of Morality through a Childlike Perspective",
    "section": "",
    "text": "Edit 11/30/2019: check this article out at Pop Culture Bento!\nImagine a Beaux Arts mashup of The Great Dictator and Life is Beautiful set inside a Moonrise Kingdom prequel. Can‚Äôt? Taika Waititi has. Jojo Rabbit finds a small, timid Hitler Youth (the Moonrise Kingdom bit) named Jojo (Roman Griffin Davis) in a world much too big for him. Waititi brings the fanaticism and anti-Semitism of Nazi Germany into close quarters by portraying Jojo‚Äôs imaginary friend, Adolf Hitler. His portrayal is an incredible use of dramatic irony: we see the craziness of Hitler‚Äôs cult of personality and ideology, while the ten year-old sees his idol. Same as any sports star, Jojo‚Äôs room is decked out in memorabilia and posters to the F√ºhrer‚Äôs power.\nWaititi The Actor mirrors Chaplin by lampooning Hitler‚Äôs decisions and imitating his manner of speech. All the silliness you‚Äôd expect from a ten year-old is there, along with biting jokes for those geopolitically inclined. On a different level, Waititi The Director channels Life is Beautiful by showing us a world three feet high instead of six. Jojo Rabbit is a coming-of-age tale, with adults tugging at the strings of his life behind some curtain of maturity. These adults are sometimes imbeciles (low-level Nazi soldiers), sometimes courageous (Jojo‚Äôs mother [Scarlett Johannson]), and sometimes both depending on the situation (washed up Captain Klenzendorf [Sam Rockwell]). They operate formally in the adult realm, which inexorably approaches and darkens Jojo‚Äôs world throughout the film, but Waititi The Screenwriter manages to find great laughs in the childlike tendencies of even the Gestapo. This is not to say that the director makes fun of the culture of fear or terrible tragedy that infected Nazi Germany. He finds laughs in both dark and lighter moments by exposing the ridiculousness of Nazism.\nLet me say this again: Jojo Rabbit is hilarious, sharing atmosphere with The Grand Budapest Hotel. And it is because of this childlike urgency and earnestness that the emotional content impresses so thoroughly. It is every bit as solemn as Budapest‚Äôs gravest moments, without the reverence. The Gestapo comes, as it always does, for Elsa (Thomasin McKenzie), a friend of Jojo‚Äôs dead sister living in her room. McKenzie packs emotion to spare. With tenuous power over Jojo as his physical and intellectual superior, she delivers stinging rebukes of Jojo‚Äôs indoctrination, while ultimately boxing herself up in his attic. This confinement heightens every interaction with her, and allows her to speak beyond her situation for people in hiding everywhere. Jojo Rabbit navigates conflicting ideas of right and wrong, exploiting the disagreements to heartbreaking, funny, or joyous ends."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Corey",
    "section": "",
    "text": "Ready for paint!\n\n\nRestoring Wester Ross Frame #015\n\n\n\ncycling\n\n\n\n\n\n\n\n\n\nFeb 9, 2025\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nDisassembled In-House\n\n\nRestoring Wester Ross Frame 075\n\n\n\ncycling\n\n\n\n\n\n\n\n\n\nJan 8, 2025\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\n2024‚Äôs 2 favorites\n\n\n\n\n\n\nlists\n\n\nbooks\n\n\ncycling\n\n\nurbanism\n\n\n\n\n\n\n\n\n\nJan 1, 2025\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nHow to Restore a Bike\n\n\nRestoring Wester Ross Frame 075\n\n\n\ncycling\n\n\n\n\n\n\n\n\n\nDec 21, 2024\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nIs restoring my bike worth it?\n\n\nRestoring Wester Ross Frame 075\n\n\n\ncycling\n\n\n\n\n\n\n\n\n\nDec 19, 2024\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nDoes Open Data Exist on Somerville‚Äôs Concrete-Block Garages?\n\n\n\n\n\n\n\n\n\n\n\nNov 1, 2024\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nThe flow state in running and coding\n\n\n\n\n\n\ndata\n\n\n\n\n\n\n\n\n\nApr 27, 2024\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\n2 movie trends someone should write about\n\n\n\n\n\n\nfilm\n\n\nlists\n\n\n\n\n\n\n\n\n\nApr 27, 2024\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nA PySpark-native way to do recursion\n\n\nPart 2: Solutions\n\n\n\ndata\n\n\nspark\n\n\npython\n\n\n\n\n\n\n\n\n\nApr 21, 2024\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nA PySpark-native way to do recursion\n\n\nPart 1: the Problem\n\n\n\ndata\n\n\nspark\n\n\npython\n\n\n\n\n\n\n\n\n\nApr 21, 2024\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nHow I work remotely\n\n\n\n\n\n\ntech\n\n\nremote work\n\n\n\n\n\n\n\n\n\nNov 18, 2022\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nFarmington Canal Trail Bike Century\n\n\n\n\n\n\nfitness\n\n\ncycling\n\n\nnew haven\n\n\nbucket list\n\n\n\n\n\n\n\n\n\nApr 21, 2022\n\n\nCorey Runkel\n\n\n\n\n\n\n\n\n\n\n\n\nTip the valet!\n\n\n\n\n\n\ncode bits\n\n\nR\n\n\n\n\n\n\n\n\n\nApr 12, 2022\n\n\nCorey Runkel\n\n\n\n\n\n\n\n\n\n\n\n\nYPFS Citation Style Language\n\n\n\n\n\n\nopen data\n\n\nYPFS\n\n\ncode bits\n\n\n\n\n\n\n\n\n\nMar 24, 2021\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nMorning bike ride at East Rock Park\n\n\n\n\n\n\nlife\n\n\n\n\n\n\n\n\n\nMar 13, 2021\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nHow long do actors have left?\n\n\n\n\n\n\nfilm\n\n\nculture\n\n\npolitical economy\n\n\npredictions\n\n\n\n\n\n\n\n\n\nDec 7, 2020\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nSmall economies face big mobile payments\n\n\nZimbabwe and Venezuela present different perspectives on forced dollarization\n\n\n\nanalysis\n\n\npolitical economy\n\n\n\n\n\n\n\n\n\nNov 13, 2020\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nReserve liquidity facilities shift from advanced economies to emerging markets\n\n\n\n\n\n\nanalysis\n\n\nYPFS\n\n\npolitical economy\n\n\n\n\n\n\n\n\n\nJul 1, 2020\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nDebt Mounts for US Retail and Lodging Mortgagors\n\n\n\n\n\n\nanalysis\n\n\npolitical economy\n\n\nYPFS\n\n\n\n\n\n\n\n\n\nJun 18, 2020\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nFederal Reserve further expands access to Municipal Liquidity Facility\n\n\n\n\n\n\nanalysis\n\n\npolitical economy\n\n\nYPFS\n\n\n\n\n\n\n\n\n\nJun 9, 2020\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nDavid Lynch is Toying With Us\n\n\n\n\n\n\nfilm\n\n\nanalysis\n\n\n\n\n\n\n\n\n\nFeb 15, 2020\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nJust Mercy ‚Äì a Legal Drama Adaptation That Fails to Do Justice to a Compelling Memoir\n\n\nLack of restraint renders this film adaptation of a nuanced tale about injustice into an overbearing platitude.\n\n\n\nfilm\n\n\nanalysis\n\n\n\n\n\n\n\n\n\nDec 25, 2019\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nJojo Rabbit Explores Universal Notions of Morality through a Childlike Perspective\n\n\nTaika Waititi delivers laughs, tears, and smiles through sharp writing, vivid sets, and great performances.\n\n\n\nfilm\n\n\nanalysis\n\n\n\n\n\n\n\n\n\nNov 30, 2019\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nAmerican Heartbreak\n\n\n\n\n\n\nculture\n\n\nanalysis\n\n\n\n\n\n\n\n\n\nNov 21, 2019\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\n3 Things I Learned from my Marathon\n\n\n\n\n\n\nfitness\n\n\n\n\n\n\n\n\n\nNov 16, 2019\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nParasite Refreshes Horror with a Hefty Dose of Social Realism\n\n\nBong Joon-ho‚Äôs terrors proceed from the scraps discarded by the super-rich.\n\n\n\nanalysis\n\n\nfilm\n\n\n\n\n\n\n\n\n\nNov 11, 2019\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\n20 Miles Later\n\n\n\n\n\n\nanalysis\n\n\nfitness\n\n\n\n\n\n\n\n\n\nOct 20, 2019\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nDistortion in Vertigo (1958)\n\n\nThe cinematography that makes Hitchcock‚Äôs masterpiece unsettle\n\n\n\nfilm\n\n\nanalysis\n\n\n\n\n\n\n\n\n\nAug 27, 2019\n\n\ncorey\n\n\n\n\n\n\n\n\n\n\n\n\nFederal Register API\n\n\n\n\n\n\nR\n\n\nopen data\n\n\n\n\n\n\n\n\n\nAug 3, 2019\n\n\nCorey Runkel\n\n\n\n\n\n\nNo matching items"
  }
]